!function(t){function e(e,i){this.$container=e,this.options=t.extend({startSlide:0,item:".slider-item",isFullScreen:!1,isFlexible:!1,isSupportTouch:"__proto__"in{},isShowPage:!0,isShowTitle:!0,prevC:"sliderPrev",nextC:"sliderNext",titleAttr:"data-title",bgAttr:"data-bg",isShowControls:!0,isAuto:!0,intervalTime:5e3,affectTime:300,mode:"move",direction:"left",onInited:t.noop,onMoveBefore:t.noop,onMoveAfter:t.noop,onSelected:t.noop},i),this.init()}e.prototype={init:function(){var e=this;if(this.$item=this.$container.find(this.options.item),this.size=this.$item.size(),this.curIndex=this.options.startSlide,this.setLayout(),this.playTimer=null,this.options.isAuto&&this.autoPlay(),this.options.isFlexible&&t(window).on("resize.slider",t.proxy(this,"resize")),$(".sliderWrap").on("mouseover",function(){e.$prev.show(),e.$next.show()}).on("mouseleave",function(){e.$prev.hide(),e.$next.hide()}),e.isIE(6)||e.isIE(7)||e.isIE(8)||e.isIE(9))$("#downloadWrapper")[0].style.cssText="background:#000;opacity:0.4;filter:Alpha(opacity=40);";else{var i=this.$item.eq(this.curIndex).attr("data-bg");$("#downloadWrapper").backgroundBlur({imageURL:i,blurAmount:20,imageClass:"bg-blur"})}},getMove:function(t){var e={},i=this.getSize();return"top"==this.options.direction?(e.top=-this.curIndex*i.height,t&&(e.width=i.width)):(e.left=-this.curIndex*i.width,t&&(e.height=i.height)),e},fade:function(){var t=this;t.options.isAuto&&t.autoPlay(),t.curIndex++,t.curIndex>t.size-1&&(t.curIndex=0),t.setBg(),t.setTitle(),t.setPages(),t.options.onMoveBefore.call(t.$container,t.$item,t.curIndex),t.$item.fadeOut(t.options.affectTime).eq(t.curIndex).fadeIn(t.options.affectTime,function(){t.options.onMoveAfter.call(this,t.$item,t.curIndex)})},fadePrev:function(t){var e=this;1!=t&&("move"==e.options.mode?0==e.curIndex&&(e.curIndex=e.size-1,e.$container.css(e.getMove())):0==e.curIndex&&(e.curIndex=e.size),e.curIndex--),e.options.isAuto&&e.autoPlay(),e.setTitle(),e.setBg(),e.setPages(),e.options.onMoveBefore.call(e.$container,e.$item,e.curIndex),e.$item.fadeOut(e.options.affectTime).eq(e.curIndex).fadeIn(e.options.affectTime,function(){e.options.onMoveAfter.call(this,e.$item,e.curIndex)})},setPages:function(){function t(t,e){return e=e||"",0!=e.replace(/\s/g,"").length&&new RegExp(" "+e+" ").test(" "+t.className+" ")}if(this.options.isShowPage&&this.$pages){var e=this.curIndex,i=$(".sliderPages a");e==this.size-1&&"move"==this.options.mode&&(e=0),i.eq(e).addClass("active").siblings("a").removeClass("active");if(!-[1]&&!window.XMLHttpRequest){sliderpage=document.getElementById("sliderPages").getElementsByTagName("a");for(var n=0;n<sliderpage.length;n++)n==e?function(e,i){t(e,i)||(e.className+=" "+i)}(sliderpage[n],"active"):function(e,i){if(t(e,i)){for(var n=" "+e.className.replace(/[\t\r\n]/g,"")+" ";n.indexOf(" "+i+" ")>=0;)n=n.replace(" "+i+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}}(sliderpage[n],"active")}else i.eq(e).attr("class","active").siblings().attr("class","")}},setTitle:function(){if(this.options.isShowTitle&&this.$title){var e=this.$item.eq(this.curIndex);this.$title.html(t.isFunction(this.options.titleAttr)?this.options.titleAttr.call(e,this.curIndex):e.attr(this.options.titleAttr))}},isIE:function(t){var e=document.createElement("b");return e.innerHTML="\x3c!--[if IE "+t+"]><i></i><![endif]--\x3e",1===e.getElementsByTagName("i").length},setBg:function(){var t=this;if(""==this.$item.eq(this.curIndex).find("a").attr("style")||void 0==this.$item.eq(this.curIndex).find("a").attr("style")){var e=this.$item.eq(this.curIndex).attr("data-bg");this.$item.eq(this.curIndex).find("a").attr("style","width:100%;height:500px;background:url("+e+") no-repeat center top ")}if(t.isIE(6)||t.isIE(7)||t.isIE(8)||t.isIE(9))$("#downloadWrapper")[0].style.cssText="background:#000;opacity:0.4;filter:Alpha(opacity=40);";else{var i=this.$item.eq(this.curIndex).attr("data-bg");$("#downloadWrapper").backgroundBlur(i),indexInit.resiUI()}},setLayout:function(){var e=(this.options,this.getSetCss());this.$item.css(e.item),this.$container.css(e.container).wrap('<div class="sliderWrap"/>'),this.$wrap=this.$container.parent(),this.$wrap.css(e.wrap),this.options.isShowTitle&&(this.$title=t('<div class="slidertitle"/>').insertAfter(this.$container),this.setTitle()),this.options.isShowPage&&(this.$pages=t('<div class="sliderPages" id="sliderPages"><div>'+this.getPages()+"</div></div>").insertAfter(this.$container),this.pagesSwitch()),this.options.isShowControls&&(this.$prev=t('<a href="javascript:;" class="icon '+this.options.prevC+'">prev</a>'),this.$next=t('<a href="javascript:;" class="icon '+this.options.nextC+'">next</a>'),this.$container.after(this.$prev.add(this.$next)),this.controlsSwitch()),"move"==this.options.mode?(this.$container.append(this.$item.eq(0).clone().addClass("item-clone")),this.$item=this.$container.find(this.options.item),this.size=this.$item.size()):this.setFade(),this.options.onInited.call(this.$container,this.$item,this.options.startSlide)},resize:function(){var t,e=this;clearTimeout(t),t=setTimeout(function(){e.$wrap.add(e.$item).css(e.getSize(e.options.direction)),e.$container.css(e.getMove(!0))},300)},setFade:function(){this.$item.hide().eq(this.curIndex).show()},getSetCss:function(){var t=this.getSize(),e={},i=Math.min(this.options.startSlide,this.size);return"fade"==this.options.mode?(t.position="absolute",e.height=t.height,e.width=t.width):("top"==this.options.direction?(e.height=100*(this.size+1)+"%",e.width=t.width,e.top=-i*t.height):(e.height=t.height,e.width=100*(this.size+1)+"%",e.left=-i*t.width,t.float="left"),e.position="relative"),{item:t,container:e,wrap:{overflow:"hidden",position:"relative",width:t.width,height:t.height}}},autoPlay:function(){var e=this;clearTimeout(e.playTimer),e.playTimer=setTimeout(t.proxy(e,e.options.mode),e.options.intervalTime)},controlsSwitch:function(){var e=this;this.$next.on("click",t.proxy(e,e.options.mode)),this.$prev.on("click",t.proxy(e,e.options.mode+"Prev"))},pagesSwitch:function(){if(this.options.isShowPage&&this.$pages){var t=this;$(".sliderPages a").on("mouseover",function(e,i){t.curIndex=$(this).text()-1,t.options.onSelected.call(this,t.curIndex),t[t.options.mode+"Prev"](!0);!-[1]&&window.XMLHttpRequest})}},getPages:function(){var e=[],i=this.curIndex;return t(this.$item).each(function(t){var n=t==i?'class="active"':"";e.push('<a href="javascript:;" '+n+">"+(t+1)+"</a>")}),e.join("")},getSize:function(){var e,i=this.$item.eq(0);if(this.options.isFullScreen)e={width:t(window).width(),height:t(window).height()};else if(this.options.isFlexible){var i=this.$wrap?this.$wrap.parent():this.$container.parent();e="top"==this.options.direction?{height:i.height()}:{width:i.width()}}return e||{width:i.width(),height:i.height()}}},t.fn.slider=function(i){return this.each(function(){t(this).data("mr.slider",new e(t(this),i))}),this}}(window.jQuery),window.utility={strToJson:function(str){var json=eval("("+str+")");return json},read:function(t,e){var i="",n=t+"=";document.cookie.split("").length>0&&(offset=document.cookie.indexOf(n),-1!=offset&&(offset+=n.length,end=document.cookie.indexOf(";",offset),-1==end&&(end=document.cookie.split("").length),i=document.cookie.substring(offset,end)));for(var o=i.split("&"),r={},s=!1,a=0,c=o.length;a<c;a++){var h=o[a].split("=");""!=h[0]&&(r[h[0]]=h[1],s=!0)}return!!s&&r},trim:function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},loadScript:function(t){var e=t.url,i=t.callback,n=document.createElement("script");n.type="text/javascript",n.readyState?n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(i&&i(),n.onreadystatechange=n=i=null)}:n.onload=function(){i&&i(),n.onload=n=i=null},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)},formatDateTime:function(t){var e=t.getFullYear(),i=t.getMonth()+1;i=i<10?"0"+i:i;var n=t.getDate();n=n<10?"0"+n:n;var o=t.getHours(),r=t.getMinutes();return r=r<10?"0"+r:r,e+"-"+i+"-"+n+" "+o+":"+r},detectOS:function(){var t=(navigator.userAgent,"Win32"==navigator.platform||"Windows"==navigator.platform||"Win64"==navigator.platform),e="Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform;return e?"Mac":"X11"!=navigator.platform||t||e?String(navigator.platform).indexOf("Linux")>-1?"Linux":t?"Windows":"other":"Unix"},getBrowser:function(){var t,e={},i=navigator.userAgent.toLowerCase();return(t=i.match(/rv:([\d.]+)\) like gecko/))?e={v:t[1],type:"ie"}:(t=i.match(/msie ([\d.]+)/))?e={v:t[1],type:"ie"}:(t=i.match(/firefox\/([\d.]+)/))?e={v:t[1],type:"firefox"}:(t=i.match(/chrome\/([\d.]+)/))?e={v:t[1],type:"chrome"}:(t=i.match(/opera.([\d.]+)/))?e={v:t[1],type:"opera"}:(t=i.match(/version\/([\d.]+).*safari/))&&(e={v:t[1],type:"safari"}),e}},window.Lazyload=function(t){this.setOption(t);var e=(document.images,this);this.lazyImgs=[],this.push(),this.option.scroll?this.timer=setInterval(function(){var t=(e.lazyImgs.length,$(window).height()),i=[];if(e.option.iframe)for(var n=parent.document.getElementById(e.option.iframeId),o=0;o<e.lazyImgs.length;o++)e.lazyImgs[o].offsetHeight<=0||e.lazyImgs[o].getBoundingClientRect().top+n.getBoundingClientRect().top<=n.parentNode.clientHeight-1+n.parentNode.getBoundingClientRect().top&&(i.push(e.lazyImgs[o]),e.lazyImgs.splice(o,1),o--);else for(var o=0;o<e.lazyImgs.length;o++)e.lazyImgs[o].offsetHeight<=0||e.lazyImgs[o].getBoundingClientRect().top<=t-1&&(i.push(e.lazyImgs[o]),e.lazyImgs.splice(o,1),o--);e.loadPic(i)},100):this.loadPic(this.lazyImgs)},Lazyload.prototype.push=function(t){for(var e=document.images,i=this,n=0;n<e.length;n++){var o=e[n].getAttribute(this.option.realSrc);void 0!=o&&o!=e[n].src&&(this.lazyImgs.push(e[n]),e[n].onerror=function(){this.onerror=null;var t=this.getAttribute(i.option.defaultSrc);t&&(this.src=t),this.className=this.className.replace(/\bload\b/g,""),this.className=this.className.replace(/\bloadPic\b/g,""),this.setAttribute("iserror",1)},e[n].onload=function(){(this.getAttribute(i.option.realSrc)==this.src||1!=this.getAttribute("iserror")&&this.getAttribute(i.option.defaultSrc,2)==this.getAttribute("src",2))&&(this.className=this.className.replace(/\bload\b/g,""),this.className=this.className.replace(/\bloadPic\b/g,""),i.option.fadeIn&&($(this).css("opacity",0),$(this).fadein("slow")))})}},Lazyload.prototype.loadPic=function(t){for(var e=0,i=t.length;e<i;e++)1!=t[e].getAttribute("loading")&&(t[e].src=t[e].getAttribute(this.option.realSrc)||t[e].getAttribute(this.option.defaultSrc)||"",t[e].setAttribute("loading",1),t[e].className+=" loadPic")},Lazyload.prototype.setOption=function(t){this.option={realSrc:"_src",defaultSrc:"_def",scroll:!0,iframe:!1,fadeIn:!1,iframeId:null},$.extend(this.option,t||{})},function(){"use strict";function t(){var t="{}";if("userDataBehavior"==b){w.load("jStorage");try{t=w.getAttribute("jStorage")}catch(t){}try{j=w.getAttribute("jStorage_update")}catch(t){}_.jStorage=t}s(),h(),u()}function e(){"localStorage"==b||"globalStorage"==b?"addEventListener"in window?window.addEventListener("storage",i,!1):document.attachEvent("onstorage",i):"userDataBehavior"==b&&setInterval(i,1e3)}function i(){var t;clearTimeout(x),x=setTimeout(function(){if("localStorage"==b||"globalStorage"==b)t=_.jStorage_update;else if("userDataBehavior"==b){w.load("jStorage");try{t=w.getAttribute("jStorage_update")}catch(t){}}t&&t!=j&&(j=t,n())},25)}function n(){var e,i=g.parse(g.stringify(v.__jstorage_meta.CRC32));t(),e=g.parse(g.stringify(v.__jstorage_meta.CRC32));var n,r=[],s=[];for(n in i)if(i.hasOwnProperty(n)){if(!e[n]){s.push(n);continue}i[n]!=e[n]&&"2."==String(i[n]).substr(0,2)&&r.push(n)}for(n in e)e.hasOwnProperty(n)&&(i[n]||r.push(n));o(r,"updated"),o(s,"deleted")}function o(t,e){t=[].concat(t||[]);var i,n,o,r;if("flushed"==e){t=[];for(var s in S)S.hasOwnProperty(s)&&t.push(s);e="deleted"}for(i=0,o=t.length;i<o;i++){if(S[t[i]])for(n=0,r=S[t[i]].length;n<r;n++)S[t[i]][n](t[i],e);if(S["*"])for(n=0,r=S["*"].length;n<r;n++)S["*"][n](t[i],e)}}function r(){var t=(+new Date).toString();if("localStorage"==b||"globalStorage"==b)try{_.jStorage_update=t}catch(t){b=!1}else"userDataBehavior"==b&&(w.setAttribute("jStorage_update",t),w.save("jStorage"));i()}function s(){if(_.jStorage)try{v=g.parse(String(_.jStorage))}catch(t){_.jStorage="{}"}else _.jStorage="{}";y=_.jStorage?String(_.jStorage).length:0,v.__jstorage_meta||(v.__jstorage_meta={}),v.__jstorage_meta.CRC32||(v.__jstorage_meta.CRC32={})}function a(){d();try{_.jStorage=g.stringify(v),w&&(w.setAttribute("jStorage",_.jStorage),w.save("jStorage")),y=_.jStorage?String(_.jStorage).length:0}catch(t){}}function c(t){if("string"!=typeof t&&"number"!=typeof t)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==t)throw new TypeError("Reserved key name");return!0}function h(){var t,e,i,n,s=1/0,c=!1,u=[];if(clearTimeout(m),v.__jstorage_meta&&"object"==typeof v.__jstorage_meta.TTL){t=+new Date,i=v.__jstorage_meta.TTL,n=v.__jstorage_meta.CRC32;for(e in i)i.hasOwnProperty(e)&&(i[e]<=t?(delete i[e],delete n[e],delete v[e],c=!0,u.push(e)):i[e]<s&&(s=i[e]));s!=1/0&&(m=setTimeout(h,Math.min(s-t,2147483647))),c&&(a(),r(),o(u,"deleted"))}}function u(){var t;if(v.__jstorage_meta.PubSub){var e,i=C,n=[];for(t=v.__jstorage_meta.PubSub.length-1;t>=0;t--)e=v.__jstorage_meta.PubSub[t],e[0]>C&&(i=e[0],n.unshift(e));for(t=n.length-1;t>=0;t--)l(n[t][1],n[t][2]);C=i}}function l(t,e){if(T[t])for(var i=0,n=T[t].length;i<n;i++)try{T[t][i](t,g.parse(g.stringify(e)))}catch(t){}}function d(){if(v.__jstorage_meta.PubSub){for(var t=+new Date-2e3,e=0,i=v.__jstorage_meta.PubSub.length;e<i;e++)if(v.__jstorage_meta.PubSub[e][0]<=t){v.__jstorage_meta.PubSub.splice(e,v.__jstorage_meta.PubSub.length-e);break}v.__jstorage_meta.PubSub.length||delete v.__jstorage_meta.PubSub}}function f(t,e){v.__jstorage_meta||(v.__jstorage_meta={}),v.__jstorage_meta.PubSub||(v.__jstorage_meta.PubSub=[]),v.__jstorage_meta.PubSub.unshift([+new Date,t,e]),a(),r()}function p(t,e){for(var i,n=t.length,o=e^n,r=0;n>=4;)i=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24,i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16),i^=i>>>24,i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^i,n-=4,++r;switch(n){case 3:o^=(255&t.charCodeAt(r+2))<<16;case 2:o^=(255&t.charCodeAt(r+1))<<8;case 1:o^=255&t.charCodeAt(r),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)}return o^=o>>>13,o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16),(o^=o>>>15)>>>0}var $=window.jQuery||window.$||(window.$={}),g={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(t){return String(t).evalJSON()}||$.parseJSON||$.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||$.toJSON};if("function"!=typeof g.parse||"function"!=typeof g.stringify)throw new Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var m,v={__jstorage_meta:{CRC32:{}}},_={jStorage:"{}"},w=null,y=0,b=!1,S={},x=!1,j=0,T={},C=+new Date,I={isXML:function(t){var e=(t?t.ownerDocument||t:0).documentElement;return!!e&&"HTML"!==e.nodeName},encode:function(t){if(!this.isXML(t))return!1;try{return(new XMLSerializer).serializeToString(t)}catch(e){try{return t.xml}catch(t){}}return!1},decode:function(t){var e,i="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(t){var e=new ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e};return!!i&&(e=i.call("DOMParser"in window&&new DOMParser||window,t,"text/xml"),!!this.isXML(e)&&e)}};$.jStorage={version:"0.4.12",set:function(t,e,i){if(c(t),i=i||{},void 0===e)return this.deleteKey(t),e;if(I.isXML(e))e={_is_xml:!0,xml:I.encode(e)};else{if("function"==typeof e)return;e&&"object"==typeof e&&(e=g.parse(g.stringify(e)))}return v[t]=e,v.__jstorage_meta.CRC32[t]="2."+p(g.stringify(e),2538058380),this.setTTL(t,i.TTL||0),o(t,"updated"),e},get:function(t,e){return c(t),t in v?v[t]&&"object"==typeof v[t]&&v[t]._is_xml?I.decode(v[t].xml):v[t]:void 0===e?null:e},deleteKey:function(t){return c(t),t in v&&(delete v[t],"object"==typeof v.__jstorage_meta.TTL&&t in v.__jstorage_meta.TTL&&delete v.__jstorage_meta.TTL[t],delete v.__jstorage_meta.CRC32[t],a(),r(),o(t,"deleted"),!0)},setTTL:function(t,e){var i=+new Date;return c(t),e=Number(e)||0,t in v&&(v.__jstorage_meta.TTL||(v.__jstorage_meta.TTL={}),e>0?v.__jstorage_meta.TTL[t]=i+e:delete v.__jstorage_meta.TTL[t],a(),h(),r(),!0)},getTTL:function(t){var e=+new Date;return c(t),t in v&&v.__jstorage_meta.TTL&&v.__jstorage_meta.TTL[t]?v.__jstorage_meta.TTL[t]-e||0:0},flush:function(){return v={__jstorage_meta:{CRC32:{}}},a(),r(),o(null,"flushed"),!0},storageObj:function(){function t(){}return t.prototype=v,new t},index:function(){var t,e=[];for(t in v)v.hasOwnProperty(t)&&"__jstorage_meta"!=t&&e.push(t);return e},storageSize:function(){return y},currentBackend:function(){return b},storageAvailable:function(){return!!b},listenKeyChange:function(t,e){c(t),S[t]||(S[t]=[]),S[t].push(e)},stopListening:function(t,e){if(c(t),S[t]){if(!e)return void delete S[t];for(var i=S[t].length-1;i>=0;i--)S[t][i]==e&&S[t].splice(i,1)}},subscribe:function(t,e){if(!(t=(t||"").toString()))throw new TypeError("Channel not defined");T[t]||(T[t]=[]),T[t].push(e)},publish:function(t,e){if(!(t=(t||"").toString()))throw new TypeError("Channel not defined");f(t,e)},reInit:function(){t()},noConflict:function(t){return delete window.$.jStorage,t&&(window.jStorage=this),this}},function(){var t=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),t=!0,window.localStorage.removeItem("_tmptest")}catch(t){}if(t)try{window.localStorage&&(_=window.localStorage,b="localStorage",j=_.jStorage_update)}catch(t){}else if("globalStorage"in window)try{window.globalStorage&&(_="localhost"==window.location.hostname?window.globalStorage["localhost.localdomain"]:window.globalStorage[window.location.hostname],b="globalStorage",j=_.jStorage_update)}catch(t){}else{if(w=document.createElement("link"),!w.addBehavior)return void(w=null);w.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(w);try{w.load("jStorage")}catch(t){w.setAttribute("jStorage","{}"),w.save("jStorage"),w.load("jStorage")}var n="{}";try{n=w.getAttribute("jStorage")}catch(t){}try{j=w.getAttribute("jStorage_update")}catch(t){}_.jStorage=n,b="userDataBehavior"}s(),h(),e(),u(),"addEventListener"in window&&window.addEventListener("pageshow",function(t){t.persisted&&i()},!1)}()}(),function($){var t=document.createElement("input"),e="oninput"in t&&(!("documentMode"in document)||document.documentMode>9),i=function(t){return"INPUT"===t.nodeName&&("text"===t.type||"password"===t.type)},n=null,o=null,r=null,s={get:function(){return r.get.call(this)},set:function(t){o=t,r.set.call(this,t)}},a=function(t){n=t,o=t.value,r=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(n,"value",s),n.attachEvent("onpropertychange",h)},c=function(){n&&(delete n.value,n.detachEvent("onpropertychange",h),n=null,o=null,r=null)},h=function(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==o&&(o=e,$(n).trigger("textchange"))}};e?$(document).on("input",function(t){"TEXTAREA"!==t.target.nodeName&&$(t.target).trigger("textchange")}):$(document).on("focusin",function(t){i(t.target)&&(c(),a(t.target))}).on("focusout",function(){c()}).on("selectionchange keyup keydown",function(){n&&n.value!==o&&(o=n.value,$(n).trigger("textchange"))})}(jQuery);var Md5={hex_chr:"0123456789abcdef",rhex:function(t){for(var e="",i=0;i<=3;i++)e+=this.hex_chr.charAt(t>>8*i+4&15)+this.hex_chr.charAt(t>>8*i&15);return e},str2blks_MD5:function(t){for(var e=1+(t.length+8>>6),i=new Array(16*e),n=0;n<16*e;n++)i[n]=0;for(var n=0;n<t.length;n++)i[n>>2]|=t.charCodeAt(n)<<n%4*8;return i[n>>2]|=128<<n%4*8,i[16*e-2]=8*t.length,i},add:function(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i},rol:function(t,e){return t<<e|t>>>32-e},cmn:function(t,e,i,n,o,r){return this.add(this.rol(this.add(this.add(e,t),this.add(n,r)),o),i)},ff:function(t,e,i,n,o,r,s){return this.cmn(e&i|~e&n,t,e,o,r,s)},gg:function(t,e,i,n,o,r,s){return this.cmn(e&n|i&~n,t,e,o,r,s)},hh:function(t,e,i,n,o,r,s){return this.cmn(e^i^n,t,e,o,r,s)},ii:function(t,e,i,n,o,r,s){return this.cmn(i^(e|~n),t,e,o,r,s)},md5:function(t){for(var e=this.str2blks_MD5(t),i=1732584193,n=-271733879,o=-1732584194,r=271733878,s=0;s<e.length;s+=16){var a=i,c=n,h=o,u=r;i=this.ff(i,n,o,r,e[s+0],7,-680876936),r=this.ff(r,i,n,o,e[s+1],12,-389564586),o=this.ff(o,r,i,n,e[s+2],17,606105819),n=this.ff(n,o,r,i,e[s+3],22,-1044525330),i=this.ff(i,n,o,r,e[s+4],7,-176418897),r=this.ff(r,i,n,o,e[s+5],12,1200080426),o=this.ff(o,r,i,n,e[s+6],17,-1473231341),n=this.ff(n,o,r,i,e[s+7],22,-45705983),i=this.ff(i,n,o,r,e[s+8],7,1770035416),r=this.ff(r,i,n,o,e[s+9],12,-1958414417),o=this.ff(o,r,i,n,e[s+10],17,-42063),n=this.ff(n,o,r,i,e[s+11],22,-1990404162),i=this.ff(i,n,o,r,e[s+12],7,1804603682),r=this.ff(r,i,n,o,e[s+13],12,-40341101),o=this.ff(o,r,i,n,e[s+14],17,-1502002290),n=this.ff(n,o,r,i,e[s+15],22,1236535329),i=this.gg(i,n,o,r,e[s+1],5,-165796510),r=this.gg(r,i,n,o,e[s+6],9,-1069501632),o=this.gg(o,r,i,n,e[s+11],14,643717713),n=this.gg(n,o,r,i,e[s+0],20,-373897302),i=this.gg(i,n,o,r,e[s+5],5,-701558691),r=this.gg(r,i,n,o,e[s+10],9,38016083),o=this.gg(o,r,i,n,e[s+15],14,-660478335),n=this.gg(n,o,r,i,e[s+4],20,-405537848),i=this.gg(i,n,o,r,e[s+9],5,568446438),r=this.gg(r,i,n,o,e[s+14],9,-1019803690),o=this.gg(o,r,i,n,e[s+3],14,-187363961),n=this.gg(n,o,r,i,e[s+8],20,1163531501),i=this.gg(i,n,o,r,e[s+13],5,-1444681467),r=this.gg(r,i,n,o,e[s+2],9,-51403784),o=this.gg(o,r,i,n,e[s+7],14,1735328473),n=this.gg(n,o,r,i,e[s+12],20,-1926607734),i=this.hh(i,n,o,r,e[s+5],4,-378558),r=this.hh(r,i,n,o,e[s+8],11,-2022574463),o=this.hh(o,r,i,n,e[s+11],16,1839030562),n=this.hh(n,o,r,i,e[s+14],23,-35309556),i=this.hh(i,n,o,r,e[s+1],4,-1530992060),r=this.hh(r,i,n,o,e[s+4],11,1272893353),o=this.hh(o,r,i,n,e[s+7],16,-155497632),n=this.hh(n,o,r,i,e[s+10],23,-1094730640),i=this.hh(i,n,o,r,e[s+13],4,681279174),r=this.hh(r,i,n,o,e[s+0],11,-358537222),o=this.hh(o,r,i,n,e[s+3],16,-722521979),n=this.hh(n,o,r,i,e[s+6],23,76029189),i=this.hh(i,n,o,r,e[s+9],4,-640364487),r=this.hh(r,i,n,o,e[s+12],11,-421815835),o=this.hh(o,r,i,n,e[s+15],16,530742520),n=this.hh(n,o,r,i,e[s+2],23,-995338651),i=this.ii(i,n,o,r,e[s+0],6,-198630844),r=this.ii(r,i,n,o,e[s+7],10,1126891415),o=this.ii(o,r,i,n,e[s+14],15,-1416354905),n=this.ii(n,o,r,i,e[s+5],21,-57434055),i=this.ii(i,n,o,r,e[s+12],6,1700485571),r=this.ii(r,i,n,o,e[s+3],10,-1894986606),o=this.ii(o,r,i,n,e[s+10],15,-1051523),n=this.ii(n,o,r,i,e[s+1],21,-2054922799),i=this.ii(i,n,o,r,e[s+8],6,1873313359),r=this.ii(r,i,n,o,e[s+15],10,-30611744),o=this.ii(o,r,i,n,e[s+6],15,-1560198380),n=this.ii(n,o,r,i,e[s+13],21,1309151649),i=this.ii(i,n,o,r,e[s+4],6,-145523070),r=this.ii(r,i,n,o,e[s+11],10,-1120210379),o=this.ii(o,r,i,n,e[s+2],15,718787259),n=this.ii(n,o,r,i,e[s+9],21,-343485551),i=this.add(i,a),n=this.add(n,c),o=this.add(o,h),r=this.add(r,u)}return this.rhex(i)+this.rhex(n)+this.rhex(o)+this.rhex(r)}};!function(t){"use strict";var e,i=t.Base64;if("undefined"!=typeof module&&module.exports)try{e=require("buffer").Buffer}catch(t){}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=function(t){for(var e={},i=0,n=t.length;i<n;i++)e[t.charAt(i)]=i;return e}(n),r=String.fromCharCode,s=function(t){if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?r(192|e>>>6)+r(128|63&e):r(224|e>>>12&15)+r(128|e>>>6&63)+r(128|63&e)}var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return r(240|e>>>18&7)+r(128|e>>>12&63)+r(128|e>>>6&63)+r(128|63&e)},a=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,c=function(t){return t.replace(a,s)},h=function(t){var e=[0,2,1][t.length%3],i=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[n.charAt(i>>>18),n.charAt(i>>>12&63),e>=2?"=":n.charAt(i>>>6&63),e>=1?"=":n.charAt(63&i)].join("")},u=t.btoa?function(e){return t.btoa(e)}:function(t){return t.replace(/[\s\S]{1,3}/g,h)},l=e?function(t){return(t.constructor===e.constructor?t:new e(t)).toString("base64")}:function(t){return u(c(t))},d=function(t,e){return e?l(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):l(String(t))},f=function(t){return d(t,!0)},p=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),g=function(t){switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),i=e-65536;return r(55296+(i>>>10))+r(56320+(1023&i));case 3:return r((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return r((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},m=function(t){return t.replace(p,g)},v=function(t){var e=t.length,i=e%4,n=(e>0?o[t.charAt(0)]<<18:0)|(e>1?o[t.charAt(1)]<<12:0)|(e>2?o[t.charAt(2)]<<6:0)|(e>3?o[t.charAt(3)]:0),s=[r(n>>>16),r(n>>>8&255),r(255&n)];return s.length-=[0,0,2,1][i],s.join("")},_=t.atob?function(e){return t.atob(e)}:function(t){return t.replace(/[\s\S]{1,4}/g,v)},w=e?function(t){return(t.constructor===e.constructor?t:new e(t,"base64")).toString()}:function(t){return m(_(t))},y=function(t){return w(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},b=function(){var e=t.Base64;return t.Base64=i,e};if(t.Base64={VERSION:"2.1.9",atob:_,btoa:u,fromBase64:y,toBase64:d,utob:c,encode:d,encodeURI:f,btou:m,decode:y,noConflict:b},"function"==typeof Object.defineProperty){var S=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",S(function(){return y(this)})),Object.defineProperty(String.prototype,"toBase64",S(function(t){return d(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",S(function(){return d(this,!0)}))}}t.Meteor&&(Base64=t.Base64)}(this),this.JSON||(this.JSON={}),function(){function f(t){return t<10?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,o,r,s,a=gap,c=e[t];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(t)),"function"==typeof rep&&(c=rep.call(e,t,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(c)){for(r=c.length,i=0;i<r;i+=1)s[i]=str(i,c)||"null";return o=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(r=rep.length,i=0;i<r;i+=1)"string"==typeof(n=rep[i])&&(o=str(n,c))&&s.push(quote(n)+(gap?": ":":")+o);else for(n in c)Object.hasOwnProperty.call(c,n)&&(o=str(n,c))&&s.push(quote(n)+(gap?": ":":")+o);return o=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;n<i;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var i,n,o=t[e];if(o&&"object"==typeof o)for(i in o)Object.hasOwnProperty.call(o,i)&&(n=walk(o,i),void 0!==n?o[i]=n:delete o[i]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(){function require(t){var i=e[t];return"object"==typeof i?i:(i.exports||(i.exports={},i.exports=i.call(i.exports,require,i.exports,i)||i.exports),i.exports)}function t(t,i){e[t]=i}var e={};t("jquery",function(){return jQuery}),t("popup",function(require){function t(){this.destroyed=!1,this.__popup=$("<div />").css({display:"none",position:"absolute",outline:0}).attr("tabindex","-1").html(this.innerHTML).appendTo("body"),this.__backdrop=this.__mask=$("<div />").css({opacity:.7,background:"#000"}),this.node=this.__popup[0],this.backdrop=this.__backdrop[0],e++}var $=require("jquery"),e=0,i=!("minWidth"in $("html")[0].style),n=!i;return $.extend(t.prototype,{node:null,backdrop:null,fixed:!1,destroyed:!0,open:!1,returnValue:"",autofocus:!0,align:"bottom left",innerHTML:"",className:"ui-popup",show:function(e){if(this.destroyed)return this;var o=this.__popup,r=this.__backdrop;if(this.__activeElement=this.__getActive(),this.open=!0,this.follow=e||this.follow,!this.__ready){if(o.addClass(this.className).attr("role",this.modal?"alertdialog":"dialog").css("position",this.fixed?"fixed":"absolute"),i||$(window).on("resize",$.proxy(this.reset,this)),this.modal){var s={position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",userSelect:"none",zIndex:this.zIndex||t.zIndex};o.addClass(this.className+"-modal"),n||$.extend(s,{position:"absolute",width:$(window).width()+"px",height:$(document).height()+"px"}),r.css(s).attr({tabindex:"0"}).on("focus",$.proxy(this.focus,this)),this.__mask=r.clone(!0).attr("style","").insertAfter(o),r.addClass(this.className+"-backdrop").insertBefore(o),this.__ready=!0}o.html()||o.html(this.innerHTML)}return o.addClass(this.className+"-show").show(),r.show(),this.reset().focus(),this.__dispatchEvent("show"),this},showModal:function(){return this.modal=!0,this.show.apply(this,arguments)},close:function(t){return!this.destroyed&&this.open&&(void 0!==t&&(this.returnValue=t),this.__popup.hide().removeClass(this.className+"-show"),this.__backdrop.hide(),this.open=!1,this.blur(),this.__dispatchEvent("close")),this},remove:function(){if(this.destroyed)return this;this.__dispatchEvent("beforeremove"),t.current===this&&(t.current=null),this.__popup.remove(),this.__backdrop.remove(),this.__mask.remove(),i||$(window).off("resize",this.reset),this.__dispatchEvent("remove");for(var e in this)delete this[e];return this},reset:function(){var t=this.follow;return t?this.__follow(t):this.__center(),this.__dispatchEvent("reset"),this},focus:function(){var e=this.node,i=this.__popup,n=t.current,o=this.zIndex=t.zIndex++;if(n&&n!==this&&n.blur(!1),!$.contains(e,this.__getActive())){var r=i.find("[autofocus]")[0];!this._autofocus&&r?this._autofocus=!0:r=e,this.__focus(r)}return i.css("zIndex",o),t.current=this,i.addClass(this.className+"-focus"),this.__dispatchEvent("focus"),this},blur:function(){var t=this.__activeElement
;return!1!==arguments[0]&&this.__focus(t),this._autofocus=!1,this.__popup.removeClass(this.className+"-focus"),this.__dispatchEvent("blur"),this},addEventListener:function(t,e){return this.__getEventListener(t).push(e),this},removeEventListener:function(t,e){for(var i=this.__getEventListener(t),n=0;n<i.length;n++)e===i[n]&&i.splice(n--,1);return this},__getEventListener:function(t){var e=this.__listener;return e||(e=this.__listener={}),e[t]||(e[t]=[]),e[t]},__dispatchEvent:function(t){var e=this.__getEventListener(t);this["on"+t]&&this["on"+t]();for(var i=0;i<e.length;i++)e[i].call(this)},__focus:function(t){try{this.autofocus&&!/^iframe$/i.test(t.nodeName)&&t.focus()}catch(t){}},__getActive:function(){try{var t=document.activeElement,e=t.contentDocument;return e&&e.activeElement||t}catch(t){}},__center:function(){var t=this.__popup,e=$(window),i=$(document),n=this.fixed,o=n?0:i.scrollLeft(),r=n?0:i.scrollTop(),s=e.width(),a=e.height(),c=t.width(),h=t.height(),u=(s-c)/2+o,l=382*(a-h)/1e3+r,d=t[0].style;d.left=Math.max(parseInt(u),o)+"px",d.top=Math.max(parseInt(l),r)+"px"},__follow:function(t){var e=t.parentNode&&$(t),i=this.__popup;if(this.__followSkin&&i.removeClass(this.__followSkin),e){var n=e.offset();if(n.left*n.top<0)return this.__center()}var o=this,r=this.fixed,s=$(window),a=$(document),c=s.width(),h=s.height(),u=a.scrollLeft(),l=a.scrollTop(),d=i.width(),f=i.height(),p=e?e.outerWidth():0,g=e?e.outerHeight():0,m=this.__offset(t),v=m.left,_=m.top,w=r?v-u:v,y=r?_-l:_,b=r?0:u,S=r?0:l,x=b+c-d,j=S+h-f,T={},C=this.align.split(" "),I=this.className+"-",A={top:"bottom",bottom:"top",left:"right",right:"left"},k={top:"top",bottom:"top",left:"left",right:"left"},N=[{top:y-f,bottom:y+g,left:w-d,right:w+p},{top:y,bottom:y-f+g,left:w,right:w-d+p}],O={left:w+p/2-d/2,top:y+g/2-f/2},E={left:[b,x],top:[S,j]};$.each(C,function(t,e){N[t][e]>E[k[e]][1]&&(e=C[t]=A[e]),N[t][e]<E[k[e]][0]&&(C[t]=A[e])}),C[1]||(k[C[1]]="left"===k[C[0]]?"top":"left",N[1][C[1]]=O[k[C[1]]]),I+=C.join("-")+" "+this.className+"-follow",o.__followSkin=I,e&&i.addClass(I),T[k[C[0]]]=parseInt(N[0][C[0]]),T[k[C[1]]]=parseInt(N[1][C[1]]),i.css(T)},__offset:function(t){var e=t.parentNode,i=e?$(t).offset():{left:t.pageX,top:t.pageY};t=e?t:t.target;var n=t.ownerDocument,o=n.defaultView||n.parentWindow;if(o==window)return i;var r=o.frameElement,s=$(n),a=s.scrollLeft(),c=s.scrollTop(),h=$(r).offset(),u=h.left,l=h.top;return{left:i.left+u-a,top:i.top+l-c}}}),t.zIndex=1024,t.current=null,t}),t("dialog-config",{backdropBackground:"#000",backdropOpacity:.7,content:'<span class="ui-dialog-loading">Loading..</span>',title:"",statusbar:"",button:null,ok:null,cancel:null,okValue:"ok",cancelValue:"cancel",cancelDisplay:!0,width:"",height:"",padding:"",skin:"",quickClose:!1,cssUri:"../css/ui-dialog.css",innerHTML:'<div i="dialog" class="ui-dialog"><div class="ui-dialog-arrow-a"></div><div class="ui-dialog-arrow-b"></div><table class="ui-dialog-grid"><tr><td i="header" class="ui-dialog-header"><button i="close" class="ui-dialog-close">&#215;</button><div i="title" class="ui-dialog-title"></div></td></tr><tr><td i="body" class="ui-dialog-body"><div i="content" class="ui-dialog-content"></div></td></tr><tr><td i="footer" class="ui-dialog-footer"><div i="statusbar" class="ui-dialog-statusbar"></div><div i="button" class="ui-dialog-button"></div></td></tr></table></div>'}),t("dialog",function(require){var $=require("jquery"),t=require("popup"),e=require("dialog-config"),i=e.cssUri;if(i){var n=require[require.toUrl?"toUrl":"resolve"];n&&(i=n(i),i='<link rel="stylesheet" href="'+i+'" />',$("base")[0]?$("base").before(i):$("head").append(i))}var o=0,r=new Date-0,s=!("minWidth"in $("html")[0].style),a="createTouch"in document&&!("onmousemove"in document)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent),c=!s&&!a,h=function(t,e,i){var n=t=t||{};"string"!=typeof t&&1!==t.nodeType||(t={content:t,fixed:!a}),t=$.extend(!0,{},h.defaults,t),t.original=n;var s=t.id=t.id||r+o,u=h.get(s);return u?u.focus():(c||(t.fixed=!1),t.quickClose&&(t.modal=!0,t.backdropOpacity=0),$.isArray(t.button)||(t.button=[]),void 0!==i&&(t.cancel=i),t.cancel&&t.button.push({id:"cancel",value:t.cancelValue,callback:t.cancel,display:t.cancelDisplay}),void 0!==e&&(t.ok=e),t.ok&&t.button.push({id:"ok",value:t.okValue,callback:t.ok,autofocus:!0}),h.list[s]=new h.create(t))},u=function(){};u.prototype=t.prototype;var l=h.prototype=new u;return h.create=function(e){var i=this;$.extend(this,new t);var n=(e.original,$(this.node).html(e.innerHTML)),r=$(this.backdrop);return this.options=e,this._popup=n,$.each(e,function(t,e){"function"==typeof i[t]?i[t](e):i[t]=e}),e.zIndex&&(t.zIndex=e.zIndex),n.attr({"aria-labelledby":this._$("title").attr("id","title:"+this.id).attr("id"),"aria-describedby":this._$("content").attr("id","content:"+this.id).attr("id")}),this._$("close").css("display",!1===this.cancel?"none":"").attr("title",this.cancelValue).on("click",function(t){i._trigger("cancel"),t.preventDefault()}),this._$("dialog").addClass(this.skin),this._$("body").css("padding",this.padding),e.quickClose&&r.on("onmousedown"in document?"mousedown":"click",function(){return i._trigger("cancel"),!1}),this.addEventListener("show",function(){r.css({opacity:0,background:e.backdropBackground}).animate({opacity:e.backdropOpacity},150)}),this._esc=function(e){var n=e.target,o=n.nodeName,r=/^input|textarea$/i,s=t.current===i,a=e.keyCode;!s||r.test(o)&&"button"!==n.type||27===a&&i._trigger("cancel")},$(document).on("keydown",this._esc),this.addEventListener("remove",function(){$(document).off("keydown",this._esc),delete h.list[this.id]}),o++,h.oncreate(this),this},h.create.prototype=l,$.extend(l,{content:function(t){var e=this._$("content");return"object"==typeof t?(t=$(t),e.empty("").append(t.show()),this.addEventListener("beforeremove",function(){$("body").append(t.hide())})):e.html(t),this.reset()},title:function(t){return this._$("title").text(t),this._$("header")[t?"show":"hide"](),this},width:function(t){return this._$("content").css("width",t),this.reset()},height:function(t){return this._$("content").css("height",t),this.reset()},button:function(t){t=t||[];var e=this,i="",n=0;return this.callbacks={},"string"==typeof t?(i=t,n++):$.each(t,function(t,o){var r=o.id=o.id||o.value,s="";e.callbacks[r]=o.callback,!1===o.display?s=' style="display:none"':n++,i+='<button type="button" i-id="'+r+'"'+s+(o.disabled?" disabled":"")+(o.autofocus?' autofocus class="ui-dialog-autofocus"':"")+">"+o.value+"</button>",e._$("button").on("click","[i-id="+r+"]",function(t){$(this).attr("disabled")||e._trigger(r),t.preventDefault()})}),this._$("button").html(i),this._$("footer")[n?"show":"hide"](),this},statusbar:function(t){return this._$("statusbar").html(t)[t?"show":"hide"](),this},_$:function(t){return this._popup.find("[i="+t+"]")},_trigger:function(t){var e=this.callbacks[t];return"function"!=typeof e||!1!==e.call(this)?this.close().remove():this}}),h.oncreate=$.noop,h.getCurrent=function(){return t.current},h.get=function(t){return void 0===t?h.list:h.list[t]},h.list={},h.defaults=e,h}),window.dialog=require("dialog")}();