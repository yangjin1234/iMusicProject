eval(function(p,a,c,k,e,r){e=function(c){return(c<62?"":e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if("0".replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return"([2-9a-fhjkm-rt-zA-SU-Z]|1\\w)"};c=1}while(c--)if(k[c])p=p.replace(new RegExp("\\b"+e(c)+"\\b","g"),k[c]);return p}('4 d(U,V,x,y,3){2.W(3);7 I=5.$(U),p=I.X,J=5.$(x),q=J.X;2.K=I;2.L=J;2.8=[];2.e=[];2.9=r;t(7 i=0,l=p.a;i<l;i++){b(p[i].Y==1&&p[i].Z.10()==V){2.8.11(p[i])}}t(7 i=0,l=q.a;i<l;i++){b(q[i].Y==1&&q[i].Z.10()==y){2.e.11(q[i])}}2.c=2.3.6==="12"?parseInt(Math.12()*2.8.a):2.3.6;t(7 i=0,l=2.e.a;i<l;i++){2.e[i].j.k="M"}2.8[2.c].z+=" "+2.3.h;2.e[2.c].j.k="N";2.13()};d.m.W=4(3){2.3={A:"click",14:r,15:1,h:"h",O:16,6:0,17:P,B:1500,C:0,Q:r};5.extend(2.3,3||{},16)};d.m.13=4(){7 9=r;t(7 i=0,l=2.8.a;i<l;i++){5.f(2.8[i],2.3.A,5.n(4(6){b(2.3.A=="u"&&2.3.C>0){7 18=2;9=setTimeout(4(){18.v(6)},2.3.C)}else{2.v(6)}},2,i));b(2.3.A=="u"&&2.3.C>0){5.f(2.8[i],"D",4(){clearTimeout(9)})}}b(2.3.17){2.E();5.f(2.K,"u",5.n(4(){w(2.9)},2));5.f(2.L,"u",5.n(4(){w(2.9)},2));5.f(2.K,"D",5.n(4(){2.E()},2));5.f(2.L,"D",5.n(4(){2.E()},2))}};d.m.v=4(6){7 h=2.3.h;7 F=2.c;7 R=2.e[F];7 G=2.e[6];2.8[F].z=2.8[F].z.replace(new RegExp("\\\\s*"+h,"g"),"");2.8[6].z+=" "+h;R.j.k="M";G.j.k="N";b(2.3.14==="fade"){w(R.9);5.setOpacity(2.e[6],0);G.9=5.fadein(G,1,2.3.15)}2.c=6;typeof(2.3.Q)=="4"&&2.3.Q()};d.m.E=4(){w(2.9);2.9=19(5.n(4(){2.1a()},2),2.3.B)};d.m.1a=4(){7 6=(2.c+1)>(2.8.a-1)?0:(2.c+1);b(2.3.O===P&&6===0){1b}2.v(6)};d.m.prev=4(){7 6=(2.c-1)>=0?(2.c-1):(2.8.a-1);b(2.3.O===P&&6===2.8.a-1){1b}2.v(6)};d.rotation=4(x,y,B){7 9=r;7 H=5.$(x);7 o=5.$T(y,H);7 6=0;5.f(H,"u",4(){w(9)});5.f(H,"D",4(){S()});4 S(){9=window.19(4(){t(7 i=0;i<o.a;i++){b(o[i].offsetHeight>0)6=i;o[i].j.k="M"}7 1c=(6>=o.a-1)?0:6+1;o[1c].j.k="N"},B)}S()}',[],75,"||this|option|function|Kg|index|var|tabs|timer|length|if|currentIndex|Tab|contents|addEvent||current||style|display||prototype|bind|els|tabChild|contentChild|null||for|mouseover|change|clearInterval|contentId|contentTag|className|event|timeout|delay|mouseout|auto|curIndex|curCon|el|tabEl|contentEl|tabsFather|contentFather|none|block|loop|false|callback|lastCon|go||tabId|tabTag|setOption|childNodes|nodeType|tagName|toLowerCase|push|random|run|effect|fadeStep|true|autoPlay|_this|setInterval|next|return|num".split("|"),0,{}));eval(function(p,a,c,k,e,d){e=function(c){return(c<a?"":e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!"".replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return"\\w+"};c=1}while(c--)if(k[c])p=p.replace(new RegExp("\\b"+e(c)+"\\b","g"),k[c]);return p}('d r(3){6.C(3);5 a=f.$A(x.M).L(f.$T("9"));5 2=[];5 b=6;g(5 i=0;i<a.c;i++){7(a[i].e(6.3.q)){2.o(a[i]);7(a[i].e(6.3.n)){a[i].N=d(){6.F=6.e(b.3.n)}}}};7(6.3.D){5 t=P(d(){5 l=2.c;5 u=f.O();5 8=[];7(l==0){K(t);I};7(b.3.9){5 9=J.x.Q(b.3.E);g(5 i=0;i<2.c;i++){7(2[i].p<=0)k;7((2[i].h().j+9.h().j)<=(9.s.V-2[i].p/4+9.s.h().j)){8.o(2[i]);2.v(i,1);i--;k};w}}y{g(5 i=0;i<2.c;i++){7(2[i].h().j<=(u.U-2[i].p/4)){8.o(2[i]);2.v(i,1);i--;k};w}};b.m(8)},W)}y{6.m(2)}};r.z.m=d(8){g(5 i=0,l=8.c;i<l;i++){8[i].F=8[i].e(6.3.q)}};r.z.C=d(3){6.3={q:"S",n:"R",D:B,9:X,E:H};f.G(6.3,3||{},B)};',60,60,"||lazyImgs|option||var|this|if|arr|iframe|imgs|_this|length|function|getAttribute|Kg|for|getBoundingClientRect||top|continue||loadPic|defaultSrc|push|offsetHeight|realSrc|Lazyload|parentNode|timer|size|splice|break|document|else|prototype||true|setOption|scroll|iframeId|src|extend|null|return|parent|clearInterval|concat|images|onerror|getBodySize|setInterval|getElementById|_def|_src||cH|clientHeight|100|false".split("|"),0,{}));(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof exports==="object"){module.exports=factory(require("jquery"))}else{factory(jQuery)}})(function($){$.fn.jScrollPane=function(settings){function JScrollPane(elem,s){var settings,jsp=this,pane,paneWidth,paneHeight,container,contentWidth,contentHeight,percentInViewH,percentInViewV,isScrollableV,isScrollableH,verticalDrag,dragMaxY,verticalDragPosition,horizontalDrag,dragMaxX,horizontalDragPosition,verticalBar,verticalTrack,scrollbarWidth,verticalTrackHeight,verticalDragHeight,arrowUp,arrowDown,horizontalBar,horizontalTrack,horizontalTrackWidth,horizontalDragWidth,arrowLeft,arrowRight,reinitialiseInterval,originalPadding,originalPaddingTotalWidth,previousContentWidth,wasAtTop=true,wasAtLeft=true,wasAtBottom=false,wasAtRight=false,originalElement=elem.clone(false,false).empty(),mwEvent=$.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";if(elem.css("box-sizing")==="border-box"){originalPadding=0;originalPaddingTotalWidth=0}else{originalPadding=elem.css("paddingTop")+" "+elem.css("paddingRight")+" "+elem.css("paddingBottom")+" "+elem.css("paddingLeft");originalPaddingTotalWidth=(parseInt(elem.css("paddingLeft"),10)||0)+(parseInt(elem.css("paddingRight"),10)||0)}function initialise(s){var isMaintainingPositon,lastContentX,lastContentY,hasContainingSpaceChanged,originalScrollTop,originalScrollLeft,maintainAtBottom=false,maintainAtRight=false;settings=s;if(pane===undefined){originalScrollTop=elem.scrollTop();originalScrollLeft=elem.scrollLeft();elem.css({overflow:"hidden",padding:0});paneWidth=elem.innerWidth()+originalPaddingTotalWidth;paneHeight=elem.innerHeight();elem.width(paneWidth);pane=$('<div class="jspPane" />').css("padding",originalPadding).append(elem.children());container=$('<div class="jspContainer" />').css({width:paneWidth+"px",height:paneHeight+"px"}).append(pane).appendTo(elem)}else{elem.css("width","");maintainAtBottom=settings.stickToBottom&&isCloseToBottom();maintainAtRight=settings.stickToRight&&isCloseToRight();hasContainingSpaceChanged=elem.innerWidth()+originalPaddingTotalWidth!=paneWidth||elem.outerHeight()!=paneHeight;if(hasContainingSpaceChanged){paneWidth=elem.innerWidth()+originalPaddingTotalWidth;paneHeight=elem.innerHeight();container.css({width:paneWidth+"px",height:paneHeight+"px"})}if(!hasContainingSpaceChanged&&previousContentWidth==contentWidth&&pane.outerHeight()==contentHeight){elem.width(paneWidth);return}previousContentWidth=contentWidth;pane.css("width","");elem.width(paneWidth);container.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}pane.css("overflow","auto");if(s.contentWidth){contentWidth=s.contentWidth}else{contentWidth=pane[0].scrollWidth}contentHeight=pane[0].scrollHeight;pane.css("overflow","");percentInViewH=contentWidth/paneWidth;percentInViewV=contentHeight/paneHeight;isScrollableV=percentInViewV>1;isScrollableH=percentInViewH>1;if(!(isScrollableH||isScrollableV)){elem.removeClass("jspScrollable");pane.css({top:0,left:0,width:container.width()-originalPaddingTotalWidth});removeMousewheel();removeFocusHandler();removeKeyboardNav();removeClickOnTrack()}else{elem.addClass("jspScrollable");isMaintainingPositon=settings.maintainPosition&&(verticalDragPosition||horizontalDragPosition);if(isMaintainingPositon){lastContentX=contentPositionX();lastContentY=contentPositionY()}initialiseVerticalScroll();initialiseHorizontalScroll();resizeScrollbars();if(isMaintainingPositon){scrollToX(maintainAtRight?contentWidth-paneWidth:lastContentX,false);scrollToY(maintainAtBottom?contentHeight-paneHeight:lastContentY,false)}initFocusHandler();initMousewheel();initTouch();if(settings.enableKeyboardNavigation){initKeyboardNav()}if(settings.clickOnTrack){initClickOnTrack()}observeHash();if(settings.hijackInternalLinks){hijackInternalLinks()}}if(settings.autoReinitialise&&!reinitialiseInterval){reinitialiseInterval=setInterval(function(){initialise(settings)},settings.autoReinitialiseDelay)}else if(!settings.autoReinitialise&&reinitialiseInterval){clearInterval(reinitialiseInterval)}originalScrollTop&&elem.scrollTop(0)&&scrollToY(originalScrollTop,false);originalScrollLeft&&elem.scrollLeft(0)&&scrollToX(originalScrollLeft,false);elem.trigger("jsp-initialised",[isScrollableH||isScrollableV])}function initialiseVerticalScroll(){if(isScrollableV){container.append($('<div class="jspVerticalBar" />').append($('<div class="jspCap jspCapTop" />'),$('<div class="jspTrack" />').append($('<div class="jspDrag" />').append($('<div class="jspDragTop" />'),$('<div class="jspDragBottom" />'))),$('<div class="jspCap jspCapBottom" />')));verticalBar=container.find(">.jspVerticalBar");verticalTrack=verticalBar.find(">.jspTrack");verticalDrag=verticalTrack.find(">.jspDrag");if(settings.showArrows){arrowUp=$('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",getArrowScroll(0,-1)).bind("click.jsp",nil);arrowDown=$('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",getArrowScroll(0,1)).bind("click.jsp",nil);if(settings.arrowScrollOnHover){arrowUp.bind("mouseover.jsp",getArrowScroll(0,-1,arrowUp));arrowDown.bind("mouseover.jsp",getArrowScroll(0,1,arrowDown))}appendArrows(verticalTrack,settings.verticalArrowPositions,arrowUp,arrowDown)}verticalTrackHeight=paneHeight;container.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){verticalTrackHeight-=$(this).outerHeight()});verticalDrag.hover(function(){verticalDrag.addClass("jspHover")},function(){verticalDrag.removeClass("jspHover")}).bind("mousedown.jsp",function(e){$("html").bind("dragstart.jsp selectstart.jsp",nil);verticalDrag.addClass("jspActive");var startY=e.pageY-verticalDrag.position().top;$("html").bind("mousemove.jsp",function(e){positionDragY(e.pageY-startY,false)}).bind("mouseup.jsp mouseleave.jsp",cancelDrag);return false});sizeVerticalScrollbar()}}function sizeVerticalScrollbar(){verticalTrack.height(verticalTrackHeight+"px");verticalDragPosition=0;scrollbarWidth=settings.verticalGutter+verticalTrack.outerWidth();pane.width(paneWidth-scrollbarWidth-originalPaddingTotalWidth);try{if(verticalBar.position().left===0){pane.css("margin-left",scrollbarWidth+"px")}}catch(err){}}function initialiseHorizontalScroll(){if(isScrollableH){container.append($('<div class="jspHorizontalBar" />').append($('<div class="jspCap jspCapLeft" />'),$('<div class="jspTrack" />').append($('<div class="jspDrag" />').append($('<div class="jspDragLeft" />'),$('<div class="jspDragRight" />'))),$('<div class="jspCap jspCapRight" />')));horizontalBar=container.find(">.jspHorizontalBar");horizontalTrack=horizontalBar.find(">.jspTrack");horizontalDrag=horizontalTrack.find(">.jspDrag");if(settings.showArrows){arrowLeft=$('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",getArrowScroll(-1,0)).bind("click.jsp",nil);arrowRight=$('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",getArrowScroll(1,0)).bind("click.jsp",nil);if(settings.arrowScrollOnHover){arrowLeft.bind("mouseover.jsp",getArrowScroll(-1,0,arrowLeft));arrowRight.bind("mouseover.jsp",getArrowScroll(1,0,arrowRight))}appendArrows(horizontalTrack,settings.horizontalArrowPositions,arrowLeft,arrowRight)}horizontalDrag.hover(function(){horizontalDrag.addClass("jspHover")},function(){horizontalDrag.removeClass("jspHover")}).bind("mousedown.jsp",function(e){$("html").bind("dragstart.jsp selectstart.jsp",nil);horizontalDrag.addClass("jspActive");var startX=e.pageX-horizontalDrag.position().left;$("html").bind("mousemove.jsp",function(e){positionDragX(e.pageX-startX,false)}).bind("mouseup.jsp mouseleave.jsp",cancelDrag);return false});horizontalTrackWidth=container.innerWidth();sizeHorizontalScrollbar()}}function sizeHorizontalScrollbar(){container.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){horizontalTrackWidth-=$(this).outerWidth()});horizontalTrack.width(horizontalTrackWidth+"px");horizontalDragPosition=0}function resizeScrollbars(){if(isScrollableH&&isScrollableV){var horizontalTrackHeight=horizontalTrack.outerHeight(),verticalTrackWidth=verticalTrack.outerWidth();verticalTrackHeight-=horizontalTrackHeight;$(horizontalBar).find(">.jspCap:visible,>.jspArrow").each(function(){horizontalTrackWidth+=$(this).outerWidth()});horizontalTrackWidth-=verticalTrackWidth;paneHeight-=verticalTrackWidth;paneWidth-=horizontalTrackHeight;horizontalTrack.parent().append($('<div class="jspCorner" />').css("width",horizontalTrackHeight+"px"));sizeVerticalScrollbar();sizeHorizontalScrollbar()}if(isScrollableH){pane.width(container.outerWidth()-originalPaddingTotalWidth+"px")}contentHeight=pane.outerHeight();percentInViewV=contentHeight/paneHeight;if(isScrollableH){horizontalDragWidth=Math.ceil(1/percentInViewH*horizontalTrackWidth);if(horizontalDragWidth>settings.horizontalDragMaxWidth){horizontalDragWidth=settings.horizontalDragMaxWidth}else if(horizontalDragWidth<settings.horizontalDragMinWidth){horizontalDragWidth=settings.horizontalDragMinWidth}horizontalDrag.width(horizontalDragWidth+"px");dragMaxX=horizontalTrackWidth-horizontalDragWidth;_positionDragX(horizontalDragPosition)}if(isScrollableV){verticalDragHeight=Math.ceil(1/percentInViewV*verticalTrackHeight);if(verticalDragHeight>settings.verticalDragMaxHeight){verticalDragHeight=settings.verticalDragMaxHeight}else if(verticalDragHeight<settings.verticalDragMinHeight){verticalDragHeight=settings.verticalDragMinHeight}verticalDrag.height(verticalDragHeight+"px");dragMaxY=verticalTrackHeight-verticalDragHeight;_positionDragY(verticalDragPosition)}}function appendArrows(ele,p,a1,a2){var p1="before",p2="after",aTemp;if(p=="os"){p=/Mac/.test(navigator.platform)?"after":"split"}if(p==p1){p2=p}else if(p==p2){p1=p;aTemp=a1;a1=a2;a2=aTemp}ele[p1](a1)[p2](a2)}function getArrowScroll(dirX,dirY,ele){return function(){arrowScroll(dirX,dirY,this,ele);this.blur();return false}}function arrowScroll(dirX,dirY,arrow,ele){arrow=$(arrow).addClass("jspActive");var eve,scrollTimeout,isFirst=true,doScroll=function(){if(dirX!==0){jsp.scrollByX(dirX*settings.arrowButtonSpeed)}if(dirY!==0){jsp.scrollByY(dirY*settings.arrowButtonSpeed)}scrollTimeout=setTimeout(doScroll,isFirst?settings.initialDelay:settings.arrowRepeatFreq);isFirst=false};doScroll();eve=ele?"mouseout.jsp":"mouseup.jsp";ele=ele||$("html");ele.bind(eve,function(){arrow.removeClass("jspActive");scrollTimeout&&clearTimeout(scrollTimeout);scrollTimeout=null;ele.unbind(eve)})}function initClickOnTrack(){removeClickOnTrack();if(isScrollableV){verticalTrack.bind("mousedown.jsp",function(e){if(e.originalTarget===undefined||e.originalTarget==e.currentTarget){var clickedTrack=$(this),offset=clickedTrack.offset(),direction=e.pageY-offset.top-verticalDragPosition,scrollTimeout,isFirst=true,doScroll=function(){var offset=clickedTrack.offset(),pos=e.pageY-offset.top-verticalDragHeight/2,contentDragY=paneHeight*settings.scrollPagePercent,dragY=dragMaxY*contentDragY/(contentHeight-paneHeight);if(direction<0){if(verticalDragPosition-dragY>pos){jsp.scrollByY(-contentDragY)}else{positionDragY(pos)}}else if(direction>0){if(verticalDragPosition+dragY<pos){jsp.scrollByY(contentDragY)}else{positionDragY(pos)}}else{cancelClick();return}scrollTimeout=setTimeout(doScroll,isFirst?settings.initialDelay:settings.trackClickRepeatFreq);isFirst=false},cancelClick=function(){scrollTimeout&&clearTimeout(scrollTimeout);scrollTimeout=null;$(document).unbind("mouseup.jsp",cancelClick)};doScroll();$(document).bind("mouseup.jsp",cancelClick);return false}})}if(isScrollableH){horizontalTrack.bind("mousedown.jsp",function(e){if(e.originalTarget===undefined||e.originalTarget==e.currentTarget){var clickedTrack=$(this),offset=clickedTrack.offset(),direction=e.pageX-offset.left-horizontalDragPosition,scrollTimeout,isFirst=true,doScroll=function(){var offset=clickedTrack.offset(),pos=e.pageX-offset.left-horizontalDragWidth/2,contentDragX=paneWidth*settings.scrollPagePercent,dragX=dragMaxX*contentDragX/(contentWidth-paneWidth);if(direction<0){if(horizontalDragPosition-dragX>pos){jsp.scrollByX(-contentDragX)}else{positionDragX(pos)}}else if(direction>0){if(horizontalDragPosition+dragX<pos){jsp.scrollByX(contentDragX)}else{positionDragX(pos)}}else{cancelClick();return}scrollTimeout=setTimeout(doScroll,isFirst?settings.initialDelay:settings.trackClickRepeatFreq);isFirst=false},cancelClick=function(){scrollTimeout&&clearTimeout(scrollTimeout);scrollTimeout=null;$(document).unbind("mouseup.jsp",cancelClick)};doScroll();$(document).bind("mouseup.jsp",cancelClick);return false}})}}function removeClickOnTrack(){if(horizontalTrack){horizontalTrack.unbind("mousedown.jsp")}if(verticalTrack){verticalTrack.unbind("mousedown.jsp")}}function cancelDrag(){$("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");if(verticalDrag){verticalDrag.removeClass("jspActive")}if(horizontalDrag){horizontalDrag.removeClass("jspActive")}}function positionDragY(destY,animate){if(!isScrollableV){return}if(destY<0){destY=0}else if(destY>dragMaxY){destY=dragMaxY}var willScrollYEvent=new $.Event("jsp-will-scroll-y");elem.trigger(willScrollYEvent,[destY]);if(willScrollYEvent.isDefaultPrevented()){return}var tmpVerticalDragPosition=destY||0;var isAtTop=tmpVerticalDragPosition===0,isAtBottom=tmpVerticalDragPosition==dragMaxY,percentScrolled=destY/dragMaxY,destTop=-percentScrolled*(contentHeight-paneHeight);if(animate===undefined){animate=settings.animateScroll}if(animate){jsp.animate(verticalDrag,"top",destY,_positionDragY,function(){elem.trigger("jsp-user-scroll-y",[-destTop,isAtTop,isAtBottom])})}else{verticalDrag.css("top",destY);_positionDragY(destY);elem.trigger("jsp-user-scroll-y",[-destTop,isAtTop,isAtBottom])}}function _positionDragY(destY){if(destY===undefined){destY=verticalDrag.position().top}container.scrollTop(0);verticalDragPosition=destY||0;var isAtTop=verticalDragPosition===0,isAtBottom=verticalDragPosition==dragMaxY,percentScrolled=destY/dragMaxY,destTop=-percentScrolled*(contentHeight-paneHeight);if(wasAtTop!=isAtTop||wasAtBottom!=isAtBottom){wasAtTop=isAtTop;wasAtBottom=isAtBottom;elem.trigger("jsp-arrow-change",[wasAtTop,wasAtBottom,wasAtLeft,wasAtRight])}updateVerticalArrows(isAtTop,isAtBottom);pane.css("top",destTop);elem.trigger("jsp-scroll-y",[-destTop,isAtTop,isAtBottom]).trigger("scroll")}function positionDragX(destX,animate){if(!isScrollableH){return}if(destX<0){destX=0}else if(destX>dragMaxX){destX=dragMaxX}var willScrollXEvent=new $.Event("jsp-will-scroll-x");elem.trigger(willScrollXEvent,[destX]);if(willScrollXEvent.isDefaultPrevented()){return}var tmpHorizontalDragPosition=destX||0;var isAtLeft=tmpHorizontalDragPosition===0,isAtRight=tmpHorizontalDragPosition==dragMaxX,percentScrolled=destX/dragMaxX,destLeft=-percentScrolled*(contentWidth-paneWidth);if(animate===undefined){animate=settings.animateScroll}if(animate){jsp.animate(horizontalDrag,"left",destX,_positionDragX,function(){elem.trigger("jsp-user-scroll-x",[-destLeft,isAtLeft,isAtRight])})}else{horizontalDrag.css("left",destX);_positionDragX(destX);elem.trigger("jsp-user-scroll-x",[-destLeft,isAtLeft,isAtRight])}}function _positionDragX(destX){if(destX===undefined){destX=horizontalDrag.position().left}container.scrollTop(0);horizontalDragPosition=destX||0;var isAtLeft=horizontalDragPosition===0,isAtRight=horizontalDragPosition==dragMaxX,percentScrolled=destX/dragMaxX,destLeft=-percentScrolled*(contentWidth-paneWidth);if(wasAtLeft!=isAtLeft||wasAtRight!=isAtRight){wasAtLeft=isAtLeft;wasAtRight=isAtRight;elem.trigger("jsp-arrow-change",[wasAtTop,wasAtBottom,wasAtLeft,wasAtRight])}updateHorizontalArrows(isAtLeft,isAtRight);pane.css("left",destLeft);elem.trigger("jsp-scroll-x",[-destLeft,isAtLeft,isAtRight]).trigger("scroll")}function updateVerticalArrows(isAtTop,isAtBottom){if(settings.showArrows){arrowUp[isAtTop?"addClass":"removeClass"]("jspDisabled");arrowDown[isAtBottom?"addClass":"removeClass"]("jspDisabled")}}function updateHorizontalArrows(isAtLeft,isAtRight){if(settings.showArrows){arrowLeft[isAtLeft?"addClass":"removeClass"]("jspDisabled");arrowRight[isAtRight?"addClass":"removeClass"]("jspDisabled")}}function scrollToY(destY,animate){var percentScrolled=destY/(contentHeight-paneHeight);positionDragY(percentScrolled*dragMaxY,animate)}function scrollToX(destX,animate){var percentScrolled=destX/(contentWidth-paneWidth);positionDragX(percentScrolled*dragMaxX,animate)}function scrollToElement(ele,stickToTop,animate){var e,eleHeight,eleWidth,eleTop=0,eleLeft=0,viewportTop,viewportLeft,maxVisibleEleTop,maxVisibleEleLeft,destY,destX;try{e=$(ele)}catch(err){return}eleHeight=e.outerHeight();eleWidth=e.outerWidth();container.scrollTop(0);container.scrollLeft(0);while(!e.is(".jspPane")){eleTop+=e.position().top;eleLeft+=e.position().left;e=e.offsetParent();if(/^body|html$/i.test(e[0].nodeName)){return}}viewportTop=contentPositionY();maxVisibleEleTop=viewportTop+paneHeight;if(eleTop<viewportTop||stickToTop){destY=eleTop-settings.horizontalGutter}else if(eleTop+eleHeight>maxVisibleEleTop){destY=eleTop-paneHeight+eleHeight+settings.horizontalGutter}if(!isNaN(destY)){scrollToY(destY,animate)}viewportLeft=contentPositionX();maxVisibleEleLeft=viewportLeft+paneWidth;if(eleLeft<viewportLeft||stickToTop){destX=eleLeft-settings.horizontalGutter}else if(eleLeft+eleWidth>maxVisibleEleLeft){destX=eleLeft-paneWidth+eleWidth+settings.horizontalGutter}if(!isNaN(destX)){scrollToX(destX,animate)}}function contentPositionX(){return-pane.position().left}function contentPositionY(){return-pane.position().top}function isCloseToBottom(){var scrollableHeight=contentHeight-paneHeight;return scrollableHeight>20&&scrollableHeight-contentPositionY()<10}function isCloseToRight(){var scrollableWidth=contentWidth-paneWidth;return scrollableWidth>20&&scrollableWidth-contentPositionX()<10}function initMousewheel(){container.unbind(mwEvent).bind(mwEvent,function(event,delta,deltaX,deltaY){if(!horizontalDragPosition)horizontalDragPosition=0;if(!verticalDragPosition)verticalDragPosition=0;var dX=horizontalDragPosition,dY=verticalDragPosition,factor=event.deltaFactor||settings.mouseWheelSpeed;jsp.scrollBy(deltaX*factor,-deltaY*factor,false);return dX==horizontalDragPosition&&dY==verticalDragPosition})}function removeMousewheel(){container.unbind(mwEvent)}function nil(){return false}function initFocusHandler(){pane.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){scrollToElement(e.target,false)})}function removeFocusHandler(){pane.find(":input,a").unbind("focus.jsp")}function initKeyboardNav(){var keyDown,elementHasScrolled,validParents=[];isScrollableH&&validParents.push(horizontalBar[0]);isScrollableV&&validParents.push(verticalBar[0]);pane.bind("focus.jsp",function(){elem.focus()});elem.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(e){if(e.target!==this&&!(validParents.length&&$(e.target).closest(validParents).length)){return}var dX=horizontalDragPosition,dY=verticalDragPosition;switch(e.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:keyDown=e.keyCode;keyDownHandler();break;case 35:scrollToY(contentHeight-paneHeight);keyDown=null;break;case 36:scrollToY(0);keyDown=null;break}elementHasScrolled=e.keyCode==keyDown&&dX!=horizontalDragPosition||dY!=verticalDragPosition;return!elementHasScrolled}).bind("keypress.jsp",function(e){if(e.keyCode==keyDown){keyDownHandler()}if(e.target!==this&&!(validParents.length&&$(e.target).closest(validParents).length)){return}return!elementHasScrolled});if(settings.hideFocus){elem.css("outline","none");if("hideFocus"in container[0]){elem.attr("hideFocus",true)}}else{elem.css("outline","");if("hideFocus"in container[0]){elem.attr("hideFocus",false)}}function keyDownHandler(){var dX=horizontalDragPosition,dY=verticalDragPosition;switch(keyDown){case 40:jsp.scrollByY(settings.keyboardSpeed,false);break;case 38:jsp.scrollByY(-settings.keyboardSpeed,false);break;case 34:case 32:jsp.scrollByY(paneHeight*settings.scrollPagePercent,false);break;case 33:jsp.scrollByY(-paneHeight*settings.scrollPagePercent,false);break;case 39:jsp.scrollByX(settings.keyboardSpeed,false);break;case 37:jsp.scrollByX(-settings.keyboardSpeed,false);break}elementHasScrolled=dX!=horizontalDragPosition||dY!=verticalDragPosition;return elementHasScrolled}}function removeKeyboardNav(){elem.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp");pane.unbind(".jsp")}function observeHash(){if(location.hash&&location.hash.length>1){var e,retryInt,hash=escape(location.hash.substr(1));try{e=$("#"+hash+', a[name="'+hash+'"]')}catch(err){return}if(e.length&&pane.find(hash)){if(container.scrollTop()===0){retryInt=setInterval(function(){if(container.scrollTop()>0){scrollToElement(e,true);$(document).scrollTop(container.position().top);clearInterval(retryInt)}},50)}else{scrollToElement(e,true);$(document).scrollTop(container.position().top)}}}}function hijackInternalLinks(){if($(document.body).data("jspHijack")){return}$(document.body).data("jspHijack",true);$(document.body).delegate('a[href*="#"]',"click",function(event){var href=this.href.substr(0,this.href.indexOf("#")),locationHref=location.href,hash,element,container,jsp,scrollTop,elementTop;if(location.href.indexOf("#")!==-1){locationHref=location.href.substr(0,location.href.indexOf("#"))}if(href!==locationHref){return}hash=escape(this.href.substr(this.href.indexOf("#")+1));element;try{element=$("#"+hash+', a[name="'+hash+'"]')}catch(e){return}if(!element.length){return}container=element.closest(".jspScrollable");jsp=container.data("jsp");jsp.scrollToElement(element,true);if(container[0].scrollIntoView){scrollTop=$(window).scrollTop();elementTop=element.offset().top;if(elementTop<scrollTop||elementTop>scrollTop+$(window).height()){container[0].scrollIntoView()}}event.preventDefault()})}function initTouch(){var startX,startY,touchStartX,touchStartY,moved,moving=false;container.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(e){var touch=e.originalEvent.touches[0];startX=contentPositionX();startY=contentPositionY();touchStartX=touch.pageX;touchStartY=touch.pageY;moved=false;moving=true}).bind("touchmove.jsp",function(ev){if(!moving){return}var touchPos=ev.originalEvent.touches[0],dX=horizontalDragPosition,dY=verticalDragPosition;jsp.scrollTo(startX+touchStartX-touchPos.pageX,startY+touchStartY-touchPos.pageY);moved=moved||Math.abs(touchStartX-touchPos.pageX)>5||Math.abs(touchStartY-touchPos.pageY)>5;return dX==horizontalDragPosition&&dY==verticalDragPosition}).bind("touchend.jsp",function(e){moving=false}).bind("click.jsp-touchclick",function(e){if(moved){moved=false;return false}})}function destroy(){var currentY=contentPositionY(),currentX=contentPositionX();elem.removeClass("jspScrollable").unbind(".jsp");pane.unbind(".jsp");elem.replaceWith(originalElement.append(pane.children()));originalElement.scrollTop(currentY);originalElement.scrollLeft(currentX);if(reinitialiseInterval){clearInterval(reinitialiseInterval)}}$.extend(jsp,{reinitialise:function(s){s=$.extend({},settings,s);initialise(s)},scrollToElement:function(ele,stickToTop,animate){scrollToElement(ele,stickToTop,animate)},scrollTo:function(destX,destY,animate){scrollToX(destX,animate);scrollToY(destY,animate)},scrollToX:function(destX,animate){scrollToX(destX,animate)},scrollToY:function(destY,animate){scrollToY(destY,animate)},scrollToPercentX:function(destPercentX,animate){scrollToX(destPercentX*(contentWidth-paneWidth),animate)},scrollToPercentY:function(destPercentY,animate){scrollToY(destPercentY*(contentHeight-paneHeight),animate)},scrollBy:function(deltaX,deltaY,animate){jsp.scrollByX(deltaX,animate);jsp.scrollByY(deltaY,animate)},scrollByX:function(deltaX,animate){var destX=contentPositionX()+Math[deltaX<0?"floor":"ceil"](deltaX),percentScrolled=destX/(contentWidth-paneWidth);positionDragX(percentScrolled*dragMaxX,animate)},scrollByY:function(deltaY,animate){var destY=contentPositionY()+Math[deltaY<0?"floor":"ceil"](deltaY),percentScrolled=destY/(contentHeight-paneHeight);positionDragY(percentScrolled*dragMaxY,animate)},positionDragX:function(x,animate){positionDragX(x,animate)},positionDragY:function(y,animate){positionDragY(y,animate)},animate:function(ele,prop,value,stepCallback,completeCallback){var params={};params[prop]=value;ele.animate(params,{duration:settings.animateDuration,easing:settings.animateEase,queue:false,step:stepCallback,complete:completeCallback})},getContentPositionX:function(){return contentPositionX()},getContentPositionY:function(){return contentPositionY()},getContentWidth:function(){return contentWidth},getContentHeight:function(){return contentHeight},getPercentScrolledX:function(){return contentPositionX()/(contentWidth-paneWidth)},getPercentScrolledY:function(){return contentPositionY()/(contentHeight-paneHeight)},getIsScrollableH:function(){return isScrollableH},getIsScrollableV:function(){return isScrollableV},getContentPane:function(){return pane},scrollToBottom:function(animate){positionDragY(dragMaxY,animate)},hijackInternalLinks:$.noop,destroy:function(){destroy()}});initialise(s)}settings=$.extend({},$.fn.jScrollPane.defaults,settings);$.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){settings[this]=settings[this]||settings.speed});return this.each(function(){var elem=$(this),jspApi=elem.data("jsp");if(jspApi){jspApi.reinitialise(settings)}else{$("script",elem).filter('[type="text/javascript"],:not([type])').remove();jspApi=new JScrollPane(elem,settings);elem.data("jsp",jspApi)}})};$.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:undefined,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}});!function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof exports?module.exports=factory:factory(jQuery)}(function($){function handler(event){var orgEvent=event||window.event,args=slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0,offsetX=0,offsetY=0;if(event=$.event.fix(orgEvent),event.type="mousewheel","detail"in orgEvent&&(deltaY=orgEvent.detail*-1),"wheelDelta"in orgEvent&&(deltaY=orgEvent.wheelDelta),"wheelDeltaY"in orgEvent&&(deltaY=orgEvent.wheelDeltaY),"wheelDeltaX"in orgEvent&&(deltaX=orgEvent.wheelDeltaX*-1),"axis"in orgEvent&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS&&(deltaX=deltaY*-1,deltaY=0),delta=0===deltaY?deltaX:deltaY,"deltaY"in orgEvent&&(deltaY=orgEvent.deltaY*-1,delta=deltaY),"deltaX"in orgEvent&&(deltaX=orgEvent.deltaX,0===deltaY&&(delta=deltaX*-1)),0!==deltaY||0!==deltaX){if(1===orgEvent.deltaMode){var lineHeight=$.data(this,"mousewheel-line-height");delta*=lineHeight,deltaY*=lineHeight,deltaX*=lineHeight}else if(2===orgEvent.deltaMode){var pageHeight=$.data(this,"mousewheel-page-height");delta*=pageHeight,deltaY*=pageHeight,deltaX*=pageHeight}if(absDelta=Math.max(Math.abs(deltaY),Math.abs(deltaX)),(!lowestDelta||absDelta<lowestDelta)&&(lowestDelta=absDelta,shouldAdjustOldDeltas(orgEvent,absDelta)&&(lowestDelta/=40)),shouldAdjustOldDeltas(orgEvent,absDelta)&&(delta/=40,deltaX/=40,deltaY/=40),delta=Math[delta>=1?"floor":"ceil"](delta/lowestDelta),deltaX=Math[deltaX>=1?"floor":"ceil"](deltaX/lowestDelta),deltaY=Math[deltaY>=1?"floor":"ceil"](deltaY/lowestDelta),special.settings.normalizeOffset&&this.getBoundingClientRect){var boundingRect=this.getBoundingClientRect();offsetX=event.clientX-boundingRect.left,offsetY=event.clientY-boundingRect.top}return event.deltaX=deltaX,event.deltaY=deltaY,event.deltaFactor=lowestDelta,event.offsetX=offsetX,event.offsetY=offsetY,event.deltaMode=0,args.unshift(event,delta,deltaX,deltaY),nullLowestDeltaTimeout&&clearTimeout(nullLowestDeltaTimeout),nullLowestDeltaTimeout=setTimeout(nullLowestDelta,200),
($.event.dispatch||$.event.handle).apply(this,args)}}function nullLowestDelta(){lowestDelta=null}function shouldAdjustOldDeltas(orgEvent,absDelta){return special.settings.adjustOldDeltas&&"mousewheel"===orgEvent.type&&absDelta%120===0}var nullLowestDeltaTimeout,lowestDelta,toFix=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],toBind="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],slice=Array.prototype.slice;if($.event.fixHooks)for(var i=toFix.length;i;)$.event.fixHooks[toFix[--i]]=$.event.mouseHooks;var special=$.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=toBind.length;i;)this.addEventListener(toBind[--i],handler,!1);else this.onmousewheel=handler;$.data(this,"mousewheel-line-height",special.getLineHeight(this)),$.data(this,"mousewheel-page-height",special.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=toBind.length;i;)this.removeEventListener(toBind[--i],handler,!1);else this.onmousewheel=null;$.removeData(this,"mousewheel-line-height"),$.removeData(this,"mousewheel-page-height")},getLineHeight:function(elem){var $elem=$(elem),$parent=$elem["offsetParent"in $.fn?"offsetParent":"parent"]();return $parent.length||($parent=$("body")),parseInt($parent.css("fontSize"),10)||parseInt($elem.css("fontSize"),10)||16},getPageHeight:function(elem){return $(elem).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}})});var Md5={hex_chr:"0123456789abcdef",rhex:function(num){var str="";for(var j=0;j<=3;j++){str+=this.hex_chr.charAt(num>>j*8+4&15)+this.hex_chr.charAt(num>>j*8&15)}return str},str2blks_MD5:function(str){var nblk=(str.length+8>>6)+1;var blks=new Array(nblk*16);for(var i=0;i<nblk*16;i++){blks[i]=0}for(var i=0;i<str.length;i++){blks[i>>2]|=str.charCodeAt(i)<<i%4*8}blks[i>>2]|=128<<i%4*8;blks[nblk*16-2]=str.length*8;return blks},add:function(x,y){var lsw=(x&65535)+(y&65535);var msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|lsw&65535},rol:function(num,cnt){return num<<cnt|num>>>32-cnt},cmn:function(q,a,b,x,s,t){return this.add(this.rol(this.add(this.add(a,q),this.add(x,t)),s),b)},ff:function(a,b,c,d,x,s,t){return this.cmn(b&c|~b&d,a,b,x,s,t)},gg:function(a,b,c,d,x,s,t){return this.cmn(b&d|c&~d,a,b,x,s,t)},hh:function(a,b,c,d,x,s,t){return this.cmn(b^c^d,a,b,x,s,t)},ii:function(a,b,c,d,x,s,t){return this.cmn(c^(b|~d),a,b,x,s,t)},md5:function(str){var x=this.str2blks_MD5(str);var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;for(var i=0;i<x.length;i+=16){var olda=a;var oldb=b;var oldc=c;var oldd=d;a=this.ff(a,b,c,d,x[i+0],7,-680876936);d=this.ff(d,a,b,c,x[i+1],12,-389564586);c=this.ff(c,d,a,b,x[i+2],17,606105819);b=this.ff(b,c,d,a,x[i+3],22,-1044525330);a=this.ff(a,b,c,d,x[i+4],7,-176418897);d=this.ff(d,a,b,c,x[i+5],12,1200080426);c=this.ff(c,d,a,b,x[i+6],17,-1473231341);b=this.ff(b,c,d,a,x[i+7],22,-45705983);a=this.ff(a,b,c,d,x[i+8],7,1770035416);d=this.ff(d,a,b,c,x[i+9],12,-1958414417);c=this.ff(c,d,a,b,x[i+10],17,-42063);b=this.ff(b,c,d,a,x[i+11],22,-1990404162);a=this.ff(a,b,c,d,x[i+12],7,1804603682);d=this.ff(d,a,b,c,x[i+13],12,-40341101);c=this.ff(c,d,a,b,x[i+14],17,-1502002290);b=this.ff(b,c,d,a,x[i+15],22,1236535329);a=this.gg(a,b,c,d,x[i+1],5,-165796510);d=this.gg(d,a,b,c,x[i+6],9,-1069501632);c=this.gg(c,d,a,b,x[i+11],14,643717713);b=this.gg(b,c,d,a,x[i+0],20,-373897302);a=this.gg(a,b,c,d,x[i+5],5,-701558691);d=this.gg(d,a,b,c,x[i+10],9,38016083);c=this.gg(c,d,a,b,x[i+15],14,-660478335);b=this.gg(b,c,d,a,x[i+4],20,-405537848);a=this.gg(a,b,c,d,x[i+9],5,568446438);d=this.gg(d,a,b,c,x[i+14],9,-1019803690);c=this.gg(c,d,a,b,x[i+3],14,-187363961);b=this.gg(b,c,d,a,x[i+8],20,1163531501);a=this.gg(a,b,c,d,x[i+13],5,-1444681467);d=this.gg(d,a,b,c,x[i+2],9,-51403784);c=this.gg(c,d,a,b,x[i+7],14,1735328473);b=this.gg(b,c,d,a,x[i+12],20,-1926607734);a=this.hh(a,b,c,d,x[i+5],4,-378558);d=this.hh(d,a,b,c,x[i+8],11,-2022574463);c=this.hh(c,d,a,b,x[i+11],16,1839030562);b=this.hh(b,c,d,a,x[i+14],23,-35309556);a=this.hh(a,b,c,d,x[i+1],4,-1530992060);d=this.hh(d,a,b,c,x[i+4],11,1272893353);c=this.hh(c,d,a,b,x[i+7],16,-155497632);b=this.hh(b,c,d,a,x[i+10],23,-1094730640);a=this.hh(a,b,c,d,x[i+13],4,681279174);d=this.hh(d,a,b,c,x[i+0],11,-358537222);c=this.hh(c,d,a,b,x[i+3],16,-722521979);b=this.hh(b,c,d,a,x[i+6],23,76029189);a=this.hh(a,b,c,d,x[i+9],4,-640364487);d=this.hh(d,a,b,c,x[i+12],11,-421815835);c=this.hh(c,d,a,b,x[i+15],16,530742520);b=this.hh(b,c,d,a,x[i+2],23,-995338651);a=this.ii(a,b,c,d,x[i+0],6,-198630844);d=this.ii(d,a,b,c,x[i+7],10,1126891415);c=this.ii(c,d,a,b,x[i+14],15,-1416354905);b=this.ii(b,c,d,a,x[i+5],21,-57434055);a=this.ii(a,b,c,d,x[i+12],6,1700485571);d=this.ii(d,a,b,c,x[i+3],10,-1894986606);c=this.ii(c,d,a,b,x[i+10],15,-1051523);b=this.ii(b,c,d,a,x[i+1],21,-2054922799);a=this.ii(a,b,c,d,x[i+8],6,1873313359);d=this.ii(d,a,b,c,x[i+15],10,-30611744);c=this.ii(c,d,a,b,x[i+6],15,-1560198380);b=this.ii(b,c,d,a,x[i+13],21,1309151649);a=this.ii(a,b,c,d,x[i+4],6,-145523070);d=this.ii(d,a,b,c,x[i+11],10,-1120210379);c=this.ii(c,d,a,b,x[i+2],15,718787259);b=this.ii(b,c,d,a,x[i+9],21,-343485551);a=this.add(a,olda);b=this.add(b,oldb);c=this.add(c,oldc);d=this.add(d,oldd)}return this.rhex(a)+this.rhex(b)+this.rhex(c)+this.rhex(d)}};!function(){var __modules__={};function require(id){var mod=__modules__[id];var exports="exports";if(typeof mod==="object"){return mod}if(!mod[exports]){mod[exports]={};mod[exports]=mod.call(mod[exports],require,mod[exports],mod)||mod[exports]}return mod[exports]}function define(path,fn){__modules__[path]=fn}define("jquery",function(){return jQuery});define("popup",function(require){var $=require("jquery");var _count=0;var _isIE6=!("minWidth"in $("html")[0].style);var _isFixed=!_isIE6;function Popup(){this.destroyed=false;this.__popup=$("<div />").css({display:"none",position:"absolute",outline:0}).attr("tabindex","-1").html(this.innerHTML).appendTo("body");this.__backdrop=this.__mask=$("<div />").css({opacity:.7,background:"#000"});this.node=this.__popup[0];this.backdrop=this.__backdrop[0];_count++}$.extend(Popup.prototype,{node:null,backdrop:null,fixed:false,destroyed:true,open:false,returnValue:"",autofocus:true,align:"bottom left",innerHTML:"",className:"ui-popup",show:function(anchor){if(this.destroyed){return this}var that=this;var popup=this.__popup;var backdrop=this.__backdrop;this.__activeElement=this.__getActive();this.open=true;this.follow=anchor||this.follow;if(!this.__ready){popup.addClass(this.className).attr("role",this.modal?"alertdialog":"dialog").css("position",this.fixed?"fixed":"absolute");if(!_isIE6){$(window).on("resize",$.proxy(this.reset,this))}if(this.modal){var backdropCss={position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",userSelect:"none",zIndex:this.zIndex||Popup.zIndex};popup.addClass(this.className+"-modal");if(!_isFixed){$.extend(backdropCss,{position:"absolute",width:$(window).width()+"px",height:$(document).height()+"px"})}backdrop.css(backdropCss).attr({tabindex:"0"}).on("focus",$.proxy(this.focus,this));this.__mask=backdrop.clone(true).attr("style","").insertAfter(popup);backdrop.addClass(this.className+"-backdrop").insertBefore(popup);this.__ready=true}if(!popup.html()){popup.html(this.innerHTML)}}popup.addClass(this.className+"-show").show();backdrop.show();this.reset().focus();this.__dispatchEvent("show");return this},showModal:function(){this.modal=true;return this.show.apply(this,arguments)},close:function(result){if(!this.destroyed&&this.open){if(result!==undefined){this.returnValue=result}this.__popup.hide().removeClass(this.className+"-show");this.__backdrop.hide();this.open=false;this.blur();this.__dispatchEvent("close")}return this},remove:function(){if(this.destroyed){return this}this.__dispatchEvent("beforeremove");if(Popup.current===this){Popup.current=null}this.__popup.remove();this.__backdrop.remove();this.__mask.remove();if(!_isIE6){$(window).off("resize",this.reset)}this.__dispatchEvent("remove");for(var i in this){delete this[i]}return this},reset:function(){var elem=this.follow;if(elem){this.__follow(elem)}else{this.__center()}this.__dispatchEvent("reset");return this},focus:function(){var node=this.node;var popup=this.__popup;var current=Popup.current;var index=this.zIndex=Popup.zIndex++;if(current&&current!==this){current.blur(false)}if(!$.contains(node,this.__getActive())){var autofocus=popup.find("[autofocus]")[0];if(!this._autofocus&&autofocus){this._autofocus=true}else{autofocus=node}this.__focus(autofocus)}popup.css("zIndex",index);Popup.current=this;popup.addClass(this.className+"-focus");this.__dispatchEvent("focus");return this},blur:function(){var activeElement=this.__activeElement;var isBlur=arguments[0];if(isBlur!==false){this.__focus(activeElement)}this._autofocus=false;this.__popup.removeClass(this.className+"-focus");this.__dispatchEvent("blur");return this},addEventListener:function(type,callback){this.__getEventListener(type).push(callback);return this},removeEventListener:function(type,callback){var listeners=this.__getEventListener(type);for(var i=0;i<listeners.length;i++){if(callback===listeners[i]){listeners.splice(i--,1)}}return this},__getEventListener:function(type){var listener=this.__listener;if(!listener){listener=this.__listener={}}if(!listener[type]){listener[type]=[]}return listener[type]},__dispatchEvent:function(type){var listeners=this.__getEventListener(type);if(this["on"+type]){this["on"+type]()}for(var i=0;i<listeners.length;i++){listeners[i].call(this)}},__focus:function(elem){try{if(this.autofocus&&!/^iframe$/i.test(elem.nodeName)){elem.focus()}}catch(e){}},__getActive:function(){try{var activeElement=document.activeElement;var contentDocument=activeElement.contentDocument;var elem=contentDocument&&contentDocument.activeElement||activeElement;return elem}catch(e){}},__center:function(){var popup=this.__popup;var $window=$(window);var $document=$(document);var fixed=this.fixed;var dl=fixed?0:$document.scrollLeft();var dt=fixed?0:$document.scrollTop();var ww=$window.width();var wh=$window.height();var ow=popup.width();var oh=popup.height();var left=(ww-ow)/2+dl;var top=(wh-oh)*382/1e3+dt;var style=popup[0].style;style.left=Math.max(parseInt(left),dl)+"px";style.top=Math.max(parseInt(top),dt)+"px"},__follow:function(anchor){var $elem=anchor.parentNode&&$(anchor);var popup=this.__popup;if(this.__followSkin){popup.removeClass(this.__followSkin)}if($elem){var o=$elem.offset();if(o.left*o.top<0){return this.__center()}}var that=this;var fixed=this.fixed;var $window=$(window);var $document=$(document);var winWidth=$window.width();var winHeight=$window.height();var docLeft=$document.scrollLeft();var docTop=$document.scrollTop();var popupWidth=popup.width();var popupHeight=popup.height();var width=$elem?$elem.outerWidth():0;var height=$elem?$elem.outerHeight():0;var offset=this.__offset(anchor);var x=offset.left;var y=offset.top;var left=fixed?x-docLeft:x;var top=fixed?y-docTop:y;var minLeft=fixed?0:docLeft;var minTop=fixed?0:docTop;var maxLeft=minLeft+winWidth-popupWidth;var maxTop=minTop+winHeight-popupHeight;var css={};var align=this.align.split(" ");var className=this.className+"-";var reverse={top:"bottom",bottom:"top",left:"right",right:"left"};var name={top:"top",bottom:"top",left:"left",right:"left"};var temp=[{top:top-popupHeight,bottom:top+height,left:left-popupWidth,right:left+width},{top:top,bottom:top-popupHeight+height,left:left,right:left-popupWidth+width}];var center={left:left+width/2-popupWidth/2,top:top+height/2-popupHeight/2};var range={left:[minLeft,maxLeft],top:[minTop,maxTop]};$.each(align,function(i,val){if(temp[i][val]>range[name[val]][1]){val=align[i]=reverse[val]}if(temp[i][val]<range[name[val]][0]){align[i]=reverse[val]}});if(!align[1]){name[align[1]]=name[align[0]]==="left"?"top":"left";temp[1][align[1]]=center[name[align[1]]]}className+=align.join("-")+" "+this.className+"-follow";that.__followSkin=className;if($elem){popup.addClass(className)}css[name[align[0]]]=parseInt(temp[0][align[0]]);css[name[align[1]]]=parseInt(temp[1][align[1]]);popup.css(css)},__offset:function(anchor){var isNode=anchor.parentNode;var offset=isNode?$(anchor).offset():{left:anchor.pageX,top:anchor.pageY};anchor=isNode?anchor:anchor.target;var ownerDocument=anchor.ownerDocument;var defaultView=ownerDocument.defaultView||ownerDocument.parentWindow;if(defaultView==window){return offset}var frameElement=defaultView.frameElement;var $ownerDocument=$(ownerDocument);var docLeft=$ownerDocument.scrollLeft();var docTop=$ownerDocument.scrollTop();var frameOffset=$(frameElement).offset();var frameLeft=frameOffset.left;var frameTop=frameOffset.top;return{left:offset.left+frameLeft-docLeft,top:offset.top+frameTop-docTop}}});Popup.zIndex=1024;Popup.current=null;return Popup});define("dialog-config",{backdropBackground:"#000",backdropOpacity:.7,content:'<span class="ui-dialog-loading">Loading..</span>',title:"",statusbar:"",button:null,ok:null,cancel:null,okValue:"ok",cancelValue:"cancel",cancelDisplay:true,width:"",height:"",padding:"",skin:"",quickClose:false,cssUri:"../css/ui-dialog.css",innerHTML:'<div i="dialog" class="ui-dialog">'+'<div class="ui-dialog-arrow-a"></div>'+'<div class="ui-dialog-arrow-b"></div>'+'<table class="ui-dialog-grid">'+"<tr>"+'<td i="header" class="ui-dialog-header">'+'<button i="close" class="ui-dialog-close">&#215;</button>'+'<div i="title" class="ui-dialog-title"></div>'+"</td>"+"</tr>"+"<tr>"+'<td i="body" class="ui-dialog-body">'+'<div i="content" class="ui-dialog-content"></div>'+"</td>"+"</tr>"+"<tr>"+'<td i="footer" class="ui-dialog-footer">'+'<div i="statusbar" class="ui-dialog-statusbar"></div>'+'<div i="button" class="ui-dialog-button"></div>'+"</td>"+"</tr>"+"</table>"+"</div>"});define("dialog",function(require){var $=require("jquery");var Popup=require("popup");var defaults=require("dialog-config");var css=defaults.cssUri;if(css){var fn=require[require.toUrl?"toUrl":"resolve"];if(fn){css=fn(css);css='<link rel="stylesheet" href="'+css+'" />';if($("base")[0]){$("base").before(css)}else{$("head").append(css)}}}var _count=0;var _expando=new Date-0;var _isIE6=!("minWidth"in $("html")[0].style);var _isMobile="createTouch"in document&&!("onmousemove"in document)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent);var _isFixed=!_isIE6&&!_isMobile;var artDialog=function(options,ok,cancel){var originalOptions=options=options||{};if(typeof options==="string"||options.nodeType===1){options={content:options,fixed:!_isMobile}}options=$.extend(true,{},artDialog.defaults,options);options.original=originalOptions;var id=options.id=options.id||_expando+_count;var api=artDialog.get(id);if(api){return api.focus()}if(!_isFixed){options.fixed=false}if(options.quickClose){options.modal=true;options.backdropOpacity=0}if(!$.isArray(options.button)){options.button=[]}if(cancel!==undefined){options.cancel=cancel}if(options.cancel){options.button.push({id:"cancel",value:options.cancelValue,callback:options.cancel,display:options.cancelDisplay})}if(ok!==undefined){options.ok=ok}if(options.ok){options.button.push({id:"ok",value:options.okValue,callback:options.ok,autofocus:true})}return artDialog.list[id]=new artDialog.create(options)};var popup=function(){};popup.prototype=Popup.prototype;var prototype=artDialog.prototype=new popup;artDialog.create=function(options){var that=this;$.extend(this,new Popup);var originalOptions=options.original;var $popup=$(this.node).html(options.innerHTML);var $backdrop=$(this.backdrop);this.options=options;this._popup=$popup;$.each(options,function(name,value){if(typeof that[name]==="function"){that[name](value)}else{that[name]=value}});if(options.zIndex){Popup.zIndex=options.zIndex}$popup.attr({"aria-labelledby":this._$("title").attr("id","title:"+this.id).attr("id"),"aria-describedby":this._$("content").attr("id","content:"+this.id).attr("id")});this._$("close").css("display",this.cancel===false?"none":"").attr("title",this.cancelValue).on("click",function(event){that._trigger("cancel");event.preventDefault()});this._$("dialog").addClass(this.skin);this._$("body").css("padding",this.padding);if(options.quickClose){$backdrop.on("onmousedown"in document?"mousedown":"click",function(){that._trigger("cancel");return false})}this.addEventListener("show",function(){$backdrop.css({opacity:0,background:options.backdropBackground}).animate({opacity:options.backdropOpacity},150)});this._esc=function(event){var target=event.target;var nodeName=target.nodeName;var rinput=/^input|textarea$/i;var isTop=Popup.current===that;var keyCode=event.keyCode;if(!isTop||rinput.test(nodeName)&&target.type!=="button"){return}if(keyCode===27){that._trigger("cancel")}};$(document).on("keydown",this._esc);this.addEventListener("remove",function(){$(document).off("keydown",this._esc);delete artDialog.list[this.id]});_count++;artDialog.oncreate(this);return this};artDialog.create.prototype=prototype;$.extend(prototype,{content:function(html){var $content=this._$("content");if(typeof html==="object"){html=$(html);$content.empty("").append(html.show());this.addEventListener("beforeremove",function(){$("body").append(html.hide())})}else{$content.html(html)}return this.reset()},title:function(text){this._$("title").text(text);this._$("header")[text?"show":"hide"]();return this},width:function(value){this._$("content").css("width",value);return this.reset()},height:function(value){this._$("content").css("height",value);return this.reset()},button:function(args){args=args||[];var that=this;var html="";var number=0;this.callbacks={};if(typeof args==="string"){html=args;number++}else{$.each(args,function(i,val){var id=val.id=val.id||val.value;var style="";that.callbacks[id]=val.callback;if(val.display===false){style=' style="display:none"'}else{number++}html+="<button"+' type="button"'+' i-id="'+id+'"'+style+(val.disabled?" disabled":"")+(val.autofocus?' autofocus class="ui-dialog-autofocus"':"")+">"+val.value+"</button>";that._$("button").on("click","[i-id="+id+"]",function(event){var $this=$(this);if(!$this.attr("disabled")){that._trigger(id)}event.preventDefault()})})}this._$("button").html(html);this._$("footer")[number?"show":"hide"]();return this},statusbar:function(html){this._$("statusbar").html(html)[html?"show":"hide"]();return this},_$:function(i){return this._popup.find("[i="+i+"]")},_trigger:function(id){var fn=this.callbacks[id];return typeof fn!=="function"||fn.call(this)!==false?this.close().remove():this}});artDialog.oncreate=$.noop;artDialog.getCurrent=function(){return Popup.current};artDialog.get=function(id){return id===undefined?artDialog.list:artDialog.list[id]};artDialog.list={};artDialog.defaults=defaults;return artDialog});window.dialog=require("dialog")}();(function(global){"use strict";var _Base64=global.Base64;var version="2.1.9";var buffer;if(typeof module!=="undefined"&&module.exports){try{buffer=require("buffer").Buffer}catch(err){}}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var b64tab=function(bin){var t={};for(var i=0,l=bin.length;i<l;i++)t[bin.charAt(i)]=i;return t}(b64chars);var fromCharCode=String.fromCharCode;var cb_utob=function(c){if(c.length<2){var cc=c.charCodeAt(0);return cc<128?c:cc<2048?fromCharCode(192|cc>>>6)+fromCharCode(128|cc&63):fromCharCode(224|cc>>>12&15)+fromCharCode(128|cc>>>6&63)+fromCharCode(128|cc&63)}else{var cc=65536+(c.charCodeAt(0)-55296)*1024+(c.charCodeAt(1)-56320);return fromCharCode(240|cc>>>18&7)+fromCharCode(128|cc>>>12&63)+fromCharCode(128|cc>>>6&63)+fromCharCode(128|cc&63)}};var re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g;var utob=function(u){return u.replace(re_utob,cb_utob)};var cb_encode=function(ccc){var padlen=[0,2,1][ccc.length%3],ord=ccc.charCodeAt(0)<<16|(ccc.length>1?ccc.charCodeAt(1):0)<<8|(ccc.length>2?ccc.charCodeAt(2):0),chars=[b64chars.charAt(ord>>>18),b64chars.charAt(ord>>>12&63),padlen>=2?"=":b64chars.charAt(ord>>>6&63),padlen>=1?"=":b64chars.charAt(ord&63)];return chars.join("")};var btoa=global.btoa?function(b){return global.btoa(b)}:function(b){return b.replace(/[\s\S]{1,3}/g,cb_encode)};var _encode=buffer?function(u){return(u.constructor===buffer.constructor?u:new buffer(u)).toString("base64")}:function(u){return btoa(utob(u))};var encode=function(u,urisafe){return!urisafe?_encode(String(u)):_encode(String(u)).replace(/[+\/]/g,function(m0){return m0=="+"?"-":"_"}).replace(/=/g,"")};var encodeURI=function(u){return encode(u,true)};var re_btou=new RegExp(["[-][-]","[-][-]{2}","[-][-]{3}"].join("|"),"g");var cb_btou=function(cccc){switch(cccc.length){case 4:var cp=(7&cccc.charCodeAt(0))<<18|(63&cccc.charCodeAt(1))<<12|(63&cccc.charCodeAt(2))<<6|63&cccc.charCodeAt(3),offset=cp-65536;return fromCharCode((offset>>>10)+55296)+fromCharCode((offset&1023)+56320);case 3:return fromCharCode((15&cccc.charCodeAt(0))<<12|(63&cccc.charCodeAt(1))<<6|63&cccc.charCodeAt(2));default:return fromCharCode((31&cccc.charCodeAt(0))<<6|63&cccc.charCodeAt(1))}};var btou=function(b){return b.replace(re_btou,cb_btou)};var cb_decode=function(cccc){var len=cccc.length,padlen=len%4,n=(len>0?b64tab[cccc.charAt(0)]<<18:0)|(len>1?b64tab[cccc.charAt(1)]<<12:0)|(len>2?b64tab[cccc.charAt(2)]<<6:0)|(len>3?b64tab[cccc.charAt(3)]:0),chars=[fromCharCode(n>>>16),fromCharCode(n>>>8&255),fromCharCode(n&255)];chars.length-=[0,0,2,1][padlen];return chars.join("")};var atob=global.atob?function(a){return global.atob(a)}:function(a){return a.replace(/[\s\S]{1,4}/g,cb_decode)};var _decode=buffer?function(a){return(a.constructor===buffer.constructor?a:new buffer(a,"base64")).toString()}:function(a){return btou(atob(a))};var decode=function(a){return _decode(String(a).replace(/[-_]/g,function(m0){return m0=="-"?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};var noConflict=function(){var Base64=global.Base64;global.Base64=_Base64;return Base64};global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict};if(typeof Object.defineProperty==="function"){var noEnum=function(v){return{value:v,enumerable:false,writable:true,configurable:true}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)}));Object.defineProperty(String.prototype,"toBase64",noEnum(function(urisafe){return encode(this,urisafe)}));Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,true)}))}}if(global["Meteor"]){Base64=global.Base64}})(this);